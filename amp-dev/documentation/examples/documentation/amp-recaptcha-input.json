{"filePath":"examples/source/1.components/amp-recaptcha-input/index.html","source":"<!--\n  ## Introduction\n\n  The [`amp-recaptcha-input`](https://amp.dev/documentation/components/amp-recaptcha-input.html) component appends a [reCAPTCHA v3](https://developers.google.com/recaptcha/docs/v3) token to AMP form submissions. `amp-recaptcha-input` does this by creating an iframe to load the reCAPTCHA v3 api script using the provided site key, and calling `grecaptcha.execute` with the provided site key and action.\n--><!-- -->\n<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>amp-recaptcha-input</title>\n  <link rel=\"canonical\" href=\"/components/amp-recaptcha-input/\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <!-- ## Setup -->\n    <!-- Import the amp-recaptcha-input component, on an AMP Page using [AMP Form](https://amp.dev/documentation/components/amp-form) -->\n  <script async custom-element=\"amp-recaptcha-input\" src=\"https://cdn.ampproject.org/v0/amp-recaptcha-input-0.1.js\"></script>\n  <script async custom-element=\"amp-form\" src=\"https://cdn.ampproject.org/v0/amp-form-0.1.js\"></script>\n  <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n<style amp-custom>\n  :root {\n    --color-primary: #005AF0;\n    --color-error: #B00020;\n\n    --space-1: .5rem;  /* 8px */\n    --space-2: 1rem;   /* 16px */\n  }\n\n  #amp-recaptcha-input-form {\n    width: 100%;\n    padding: var(--space-1);\n  }\n\n  #amp-recaptcha-input-form.amp-form-submit-success [submit-success],\n  #amp-recaptcha-input-form.amp-form-submit-error [submit-error]{\n    width: 100%;\n    margin-top: var(--space-2);\n  }\n\n  #amp-recaptcha-input-form.amp-form-submit-success [submit-success] {\n    color: var(--color-primary);\n  }\n\n  #amp-recaptcha-input-form.amp-form-submit-success [submit-success] div {\n    margin-top: var(--space-1);\n    margin-bottom: var(--space-1);\n    word-break: break-all;\n  }\n\n  #amp-recaptcha-input-form.amp-form-submit-error [submit-error] {\n    color: var(--color-error);\n  }\n\n  #amp-recaptcha-input-form > fieldset {\n    margin-top: var(--space-1);\n  }\n\n  .loading-message {\n    display: none;\n    margin-top: var(--space-1);\n  }\n\n  #amp-recaptcha-input-form.amp-form-submitting > .loading-message {\n    display: block;\n  }\n</style>\n\n</head>\n<body>\n\n  <!-- ## Basic usage -->\n    <!-- POST Form request, that responds with the resolved recaptcha items. See the [reference documentation](https://amp.dev/documentation/components/amp-recaptcha-input.html) for a walkthrough on the corresponding `grecaptcha` calls. -->\n    <form id=\"amp-recaptcha-input-form\" method=\"POST\" action-xhr=\"http://localhost:8080/documentation/examples/components/amp-recaptcha-input/api/recaptcha\" target=\"_top\">\n    <fieldset>\n      <label>\n        <span>Search for</span>\n        <input type=\"search\" name=\"term\" required>\n      </label>\n      <input name=\"submit-button\" type=\"submit\" value=\"Search\">\n      <amp-recaptcha-input layout=\"nodisplay\" name=\"recaptcha_token\" data-sitekey=\"6LfcQ7IUAAAAAIv1KcgqyExGK0v8dLJtvV_Q6xD-\" data-action=\"recaptcha_example\">\n      </amp-recaptcha-input>\n    </fieldset>\n\n    <div class=\"loading-message\">\n      Loading...\n    </div>\n\n    <div submit-success>\n      <template type=\"amp-mustache\">\n        <h1>You searched for: {{term}}</h1>\n        <div><b>Score:</b> {{score}}</div>\n        <div><b>Recaptcha token:</b> {{recaptcha_token}}</div>\n        <div><b>Action:</b> {{action}}</div>\n      </template>\n    </div>\n\n    <div submit-error>\n      <template type=\"amp-mustache\">\n        <h1>Error! Please check the JS Console in your dev tools.</h1>\n        <p>{{message}}</p>\n      </template>\n    </div>\n  </form>\n</body></html>","document":{"sections":[{"doc_":"\n## Introduction\n\nThe [`amp-recaptcha-input`](https://amp.dev/documentation/components/amp-recaptcha-input.html) component appends a [reCAPTCHA v3](https://developers.google.com/recaptcha/docs/v3) token to AMP form submissions. `amp-recaptcha-input` does this by creating an iframe to load the reCAPTCHA v3 api script using the provided site key, and calling `grecaptcha.execute` with the provided site key and action.\n\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\">The <a href=\"https://amp.dev/documentation/components/amp-recaptcha-input.html\"><code>amp-recaptcha-input</code></a> component appends a <a href=\"https://developers.google.com/recaptcha/docs/v3\">reCAPTCHA v3</a> token to AMP form submissions. <code>amp-recaptcha-input</code> does this by creating an iframe to load the reCAPTCHA v3 api script using the provided site key, and calling <code>grecaptcha.execute</code> with the provided site key and action.</p>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Introduction\n\nThe [`amp-recaptcha-input`](https://amp.dev/documentation/components/amp-recaptcha-input.html) component appends a [reCAPTCHA v3](https://developers.google.com/recaptcha/docs/v3) token to AMP form submissions. `amp-recaptcha-input` does this by creating an iframe to load the reCAPTCHA v3 api script using the provided site key, and calling `grecaptcha.execute` with the provided site key and action.\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>amp-recaptcha-input</title>\n  <link rel=\"canonical\" href=\"/components/amp-recaptcha-input/\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"Import the amp-recaptcha-input component, on an AMP Page using [AMP Form](https://amp.dev/documentation/components/amp-form) \n","code":"<script async custom-element=\"amp-recaptcha-input\" src=\"https://cdn.ampproject.org/v0/amp-recaptcha-input-0.1.js\"></script>\n","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import the amp-recaptcha-input component, on an AMP Page using [AMP Form](https://amp.dev/documentation/components/amp-form) \n"},{"doc_":"","code":"<script async custom-element=\"amp-form\" src=\"https://cdn.ampproject.org/v0/amp-form-0.1.js\"></script>\n<script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n<style amp-custom>\n:root {\n  --color-primary: #005AF0;\n  --color-error: #B00020;\n\n  --space-1: .5rem;  /* 8px */\n  --space-2: 1rem;   /* 16px */\n}\n\n#amp-recaptcha-input-form {\n  width: 100%;\n  padding: var(--space-1);\n}\n\n#amp-recaptcha-input-form.amp-form-submit-success [submit-success],\n#amp-recaptcha-input-form.amp-form-submit-error [submit-error]{\n  width: 100%;\n  margin-top: var(--space-2);\n}\n\n#amp-recaptcha-input-form.amp-form-submit-success [submit-success] {\n  color: var(--color-primary);\n}\n\n#amp-recaptcha-input-form.amp-form-submit-success [submit-success] div {\n  margin-top: var(--space-1);\n  margin-bottom: var(--space-1);\n  word-break: break-all;\n}\n\n#amp-recaptcha-input-form.amp-form-submit-error [submit-error] {\n  color: var(--color-error);\n}\n\n#amp-recaptcha-input-form > fieldset {\n  margin-top: var(--space-1);\n}\n\n.loading-message {\n  display: none;\n  margin-top: var(--space-1);\n}\n\n#amp-recaptcha-input-form.amp-form-submitting > .loading-message {\n  display: block;\n}\n</style>\n\n</head>\n<body>\n\n","preview":"\n","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Basic usage\n","code":"","preview":"","inBody":true,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"basic-usage","name":"Basic usage"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Basic usage\n"},{"doc_":"POST Form request, that responds with the resolved recaptcha items. See the [reference documentation](https://amp.dev/documentation/components/amp-recaptcha-input.html) for a walkthrough on the corresponding `grecaptcha` calls. \n","code":"<form id=\"amp-recaptcha-input-form\"\n  method=\"POST\"\n  action-xhr=\"http://localhost:8080/documentation/examples/components/amp-recaptcha-input/api/recaptcha\"\n  target=\"_top\">\n  <fieldset>\n    <label>\n      <span>Search for</span>\n      <input type=\"search\"\n        name=\"term\"\n        required>\n    </label>\n    <input name=\"submit-button\"\n      type=\"submit\"\n      value=\"Search\">\n    <amp-recaptcha-input layout=\"nodisplay\"\n      name=\"recaptcha_token\"\n      data-sitekey=\"6LfcQ7IUAAAAAIv1KcgqyExGK0v8dLJtvV_Q6xD-\"\n      data-action=\"recaptcha_example\">\n    </amp-recaptcha-input>\n  </fieldset>\n\n  <div class=\"loading-message\">\n    Loading...\n  </div>\n\n  <div submit-success>\n    <template type=\"amp-mustache\">\n      <h1>You searched for: {{term}}</h1>\n      <div><b>Score:</b> {{score}}</div>\n      <div><b>Recaptcha token:</b> {{recaptcha_token}}</div>\n      <div><b>Action:</b> {{action}}</div>\n    </template>\n  </div>\n\n  <div submit-error>\n    <template type=\"amp-mustache\">\n      <h1>Error! Please check the JS Console in your dev tools.</h1>\n      <p>{{message}}</p>\n    </template>\n  </div>\n</form>\n","preview":"  <form id=\"amp-recaptcha-input-form\"\n    method=\"POST\"\n    action-xhr=\"http://localhost:8080/documentation/examples/components/amp-recaptcha-input/api/recaptcha\"\n    target=\"_top\">\n    <fieldset>\n      <label>\n        <span>Search for</span>\n        <input type=\"search\"\n          name=\"term\"\n          required>\n      </label>\n      <input name=\"submit-button\"\n        type=\"submit\"\n        value=\"Search\">\n      <amp-recaptcha-input layout=\"nodisplay\"\n        name=\"recaptcha_token\"\n        data-sitekey=\"6LfcQ7IUAAAAAIv1KcgqyExGK0v8dLJtvV_Q6xD-\"\n        data-action=\"recaptcha_example\">\n      </amp-recaptcha-input>\n    </fieldset>\n\n    <div class=\"loading-message\">\n      Loading...\n    </div>\n\n    <div submit-success>\n      <template type=\"amp-mustache\">\n        <h1>You searched for: {{term}}</h1>\n        <div><b>Score:</b> {{score}}</div>\n        <div><b>Recaptcha token:</b> {{recaptcha_token}}</div>\n        <div><b>Action:</b> {{action}}</div>\n      </template>\n    </div>\n\n    <div submit-error>\n      <template type=\"amp-mustache\">\n        <h1>Error! Please check the JS Console in your dev tools.</h1>\n        <p>{{message}}</p>\n      </template>\n    </div>\n  </form>\n","inBody":true,"id":6,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"POST Form request, that responds with the resolved recaptcha items. See the [reference documentation](https://amp.dev/documentation/components/amp-recaptcha-input.html) for a walkthrough on the corresponding `grecaptcha` calls. \n"},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":7,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<meta charset=\"utf-8\">\n  <title>amp-recaptcha-input</title>\n  <link rel=\"canonical\" href=\"/components/amp-recaptcha-input/\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <script async custom-element=\"amp-recaptcha-input\" src=\"https://cdn.ampproject.org/v0/amp-recaptcha-input-0.1.js\"></script>\n  <script async custom-element=\"amp-form\" src=\"https://cdn.ampproject.org/v0/amp-form-0.1.js\"></script>\n  <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n","styles":"  :root {\n    --color-primary: #005AF0;\n    --color-error: #B00020;\n\n    --space-1: .5rem;  /* 8px */\n    --space-2: 1rem;   /* 16px */\n  }\n\n  #amp-recaptcha-input-form {\n    width: 100%;\n    padding: var(--space-1);\n  }\n\n  #amp-recaptcha-input-form.amp-form-submit-success [submit-success],\n  #amp-recaptcha-input-form.amp-form-submit-error [submit-error]{\n    width: 100%;\n    margin-top: var(--space-2);\n  }\n\n  #amp-recaptcha-input-form.amp-form-submit-success [submit-success] {\n    color: var(--color-primary);\n  }\n\n  #amp-recaptcha-input-form.amp-form-submit-success [submit-success] div {\n    margin-top: var(--space-1);\n    margin-bottom: var(--space-1);\n    word-break: break-all;\n  }\n\n  #amp-recaptcha-input-form.amp-form-submit-error [submit-error] {\n    color: var(--color-error);\n  }\n\n  #amp-recaptcha-input-form > fieldset {\n    margin-top: var(--space-1);\n  }\n\n  .loading-message {\n    display: none;\n    margin-top: var(--space-1);\n  }\n\n  #amp-recaptcha-input-form.amp-form-submitting > .loading-message {\n    display: block;\n  }\n","title":"amp-recaptcha-input","metadata":{},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":true,"isAmpAds":false,"isAmpEmail":false,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"The amp-recaptcha-input component appends a reCAPTCHA v3 token to AMP form submissions."},"route":"/documentation/examples/components/amp-recaptcha-input/index.html"}