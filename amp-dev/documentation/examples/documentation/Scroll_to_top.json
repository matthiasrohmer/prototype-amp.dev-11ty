{"filePath":"examples/source/visual-effects/Scroll_to_top.html","source":"<!--\n  ## Introduction\n\n  [amp-position-observer](/content/amp-dev/documentation/components/reference/amp-position-observer-v0.1.md) combined with [amp-animation](/content/amp-dev/documentation/components/reference/amp-animation-v0.1.md) can be used to implement a scroll to top button. This pattern is often used in e-commerce pages where the user has to scroll through a long list of items.\n\n--><!-- -->\n<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>Scroll to top</title>\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <!-- ## Setup -->\n  <!--  Import amp-position-observer extension -->\n  <script async custom-element=\"amp-position-observer\" src=\"https://cdn.ampproject.org/v0/amp-position-observer-0.1.js\"></script>\n\n  <!--  Import amp-animation extension -->\n  <script async custom-element=\"amp-animation\" src=\"https://cdn.ampproject.org/v0/amp-animation-0.1.js\"></script>\n\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/visual-effects/scroll_to_top/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n  <!--\n    ## Styles\n\n    The CSS used for these samples are included here for reference.\n\n    These rules are simply needed to make the samples work but are not fundamental to the concepts covered here.\n  -->\n  <style amp-custom>\n    :root {\n      --color-primary: #005AF0;\n      --color-secondary: #00DCC0;\n      --color-text-light: #fff;\n\n      --space-2: 1rem;   /* 16px */\n\n      --box-shadow-1: 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 1px -1px rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n    }\n    .scrollToTop {\n      color: var(--color-text-light);\n      font-size: 1.4em;\n      box-shadow: var(--box-shadow-1);\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      border: none;\n      outline: none;\n      background: var(--color-primary);\n      z-index: 9999;\n      bottom: var(--space-2);\n      right: var(--space-2);\n      position: fixed;\n      opacity: 0;\n      visibility: hidden;\n    }\n    .spacer {\n      width: 100vw;\n      max-width: 700px;\n      height: 200vh;\n      background-color: var(--color-secondary);\n    }\n    /* we move the anchor down to componsate the fixed header */\n    .target {\n      position: relative;\n    }\n    .target-anchor {\n      position: absolute;\n      top: -72px;\n      left: 0;\n    }\n  </style>\n</head>\n\n<body>\n\n  <!-- ## Position observer and animation\n\n    We add an element with id `top-page` that we can reference later for scrolling. We use `amp-position-observer` to start the animation when the user starts to scroll and the element at the top is no longer visible.\n\n  -->\n  <h3 class=\"target\">\n    <a class=\"target-anchor\" id=\"top\"></a>\n    This is the target.\n    <amp-position-observer on=\"enter:hideAnim.start; exit:showAnim.start\" layout=\"nodisplay\">\n    </amp-position-observer>\n  </h3>\n\n  <!--\n    We use 2 `amp-animation` elements to trigger the visibility of the button. The first one is for making the button visible...\n  -->\n  <amp-animation id=\"showAnim\" layout=\"nodisplay\">\n    <script type=\"application/json\">\n      {\n        \"duration\": \"200ms\",\n         \"fill\": \"both\",\n         \"iterations\": \"1\",\n         \"direction\": \"alternate\",\n         \"animations\": [\n           {\n             \"selector\": \"#scrollToTopButton\",\n             \"keyframes\": [\n               { \"opacity\": \"1\", \"visibility\": \"visible\" }\n             ]\n           }\n         ]\n      }\n    </script>\n  </amp-animation>\n  <!-- ... and the second one is for adding the button.-->\n  <amp-animation id=\"hideAnim\" layout=\"nodisplay\">\n    <script type=\"application/json\">\n      {\n       \"duration\": \"200ms\",\n         \"fill\": \"both\",\n         \"iterations\": \"1\",\n         \"direction\": \"alternate\",\n         \"animations\": [\n           {\n             \"selector\": \"#scrollToTopButton\",\n             \"keyframes\": [\n               { \"opacity\": \"0\", \"visibility\": \"hidden\" }\n             ]\n           }\n         ]\n     }\n    </script>\n  </amp-animation>\n  <!--\n    Here is a dummy spacer.\n  -->\n  <div class=\"spacer\"></div>\n  <!--## The scroll to top button -->\n  <!--\n    We use the `scrollTo` action to scroll the page when the button is tapped. Find more about actions [here](https://github.com/ampproject/amphtml/blob/master/spec/amp-actions-and-events.md).\n  -->\n  <button id=\"scrollToTopButton\" on=\"tap:top.scrollTo(duration=200)\" class=\"scrollToTop\">⌃</button>\n</body></html>","document":{"sections":[{"doc_":"\n## Introduction\n\n[amp-position-observer](/content/amp-dev/documentation/components/reference/amp-position-observer-v0.1.md) combined with [amp-animation](/content/amp-dev/documentation/components/reference/amp-animation-v0.1.md) can be used to implement a scroll to top button. This pattern is often used in e-commerce pages where the user has to scroll through a long list of items.\n\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\"><a href=\"/content/amp-dev/documentation/components/reference/amp-position-observer-v0.1.md\">amp-position-observer</a> combined with <a href=\"/content/amp-dev/documentation/components/reference/amp-animation-v0.1.md\">amp-animation</a> can be used to implement a scroll to top button. This pattern is often used in e-commerce pages where the user has to scroll through a long list of items.</p>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Introduction\n\n[amp-position-observer](/content/amp-dev/documentation/components/reference/amp-position-observer-v0.1.md) combined with [amp-animation](/content/amp-dev/documentation/components/reference/amp-animation-v0.1.md) can be used to implement a scroll to top button. This pattern is often used in e-commerce pages where the user has to scroll through a long list of items.\n\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>Scroll to top</title>\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"Import amp-position-observer extension \n","code":"<script async custom-element=\"amp-position-observer\" src=\"https://cdn.ampproject.org/v0/amp-position-observer-0.1.js\"></script>\n","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import amp-position-observer extension \n"},{"doc_":"","code":"\n","preview":"","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"Import amp-animation extension \n","code":"<script async custom-element=\"amp-animation\" src=\"https://cdn.ampproject.org/v0/amp-animation-0.1.js\"></script>\n","preview":"","inBody":false,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import amp-animation extension \n"},{"doc_":"","code":"\n<link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/visual-effects/scroll_to_top/index.html\">\n<meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n","preview":"","inBody":false,"id":6,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\n## Styles\n\nThe CSS used for these samples are included here for reference.\n\nThese rules are simply needed to make the samples work but are not fundamental to the concepts covered here.\n\n","code":"<style amp-custom>\n  :root {\n    --color-primary: #005AF0;\n    --color-secondary: #00DCC0;\n    --color-text-light: #fff;\n\n    --space-2: 1rem;   /* 16px */\n\n    --box-shadow-1: 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 1px -1px rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n  }\n  .scrollToTop {\n    color: var(--color-text-light);\n    font-size: 1.4em;\n    box-shadow: var(--box-shadow-1);\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    border: none;\n    outline: none;\n    background: var(--color-primary);\n    z-index: 9999;\n    bottom: var(--space-2);\n    right: var(--space-2);\n    position: fixed;\n    opacity: 0;\n    visibility: hidden;\n  }\n  .spacer {\n    width: 100vw;\n    max-width: 700px;\n    height: 200vh;\n    background-color: var(--color-secondary);\n  }\n  /* we move the anchor down to componsate the fixed header */\n  .target {\n    position: relative;\n  }\n  .target-anchor {\n    position: absolute;\n    top: -72px;\n    left: 0;\n  }\n</style>\n","preview":"","inBody":false,"id":7,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[{"id":"styles","name":"Styles"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Styles\n\nThe CSS used for these samples are included here for reference.\n\nThese rules are simply needed to make the samples work but are not fundamental to the concepts covered here.\n\n"},{"doc_":"","code":"</head>\n\n<body>\n\n","preview":"\n","inBody":false,"id":8,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Position observer and animation\n\nWe add an element with id `top-page` that we can reference later for scrolling. We use `amp-position-observer` to start the animation when the user starts to scroll and the element at the top is no longer visible.\n\n","code":"<h3 class=\"target\">\n  <a class=\"target-anchor\"\n    id=\"top\"></a>\n  This is the target.\n  <amp-position-observer on=\"enter:hideAnim.start; exit:showAnim.start\"\n    layout=\"nodisplay\">\n  </amp-position-observer>\n</h3>\n","preview":"  <h3 class=\"target\">\n    <a class=\"target-anchor\"\n      id=\"top\"></a>\n    This is the target.\n    <amp-position-observer on=\"enter:hideAnim.start; exit:showAnim.start\"\n      layout=\"nodisplay\">\n    </amp-position-observer>\n  </h3>\n","inBody":true,"id":9,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[{"id":"position-observer-and-animation","name":"Position observer and animation"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Position observer and animation\n\n We add an element with id `top-page` that we can reference later for scrolling. We use `amp-position-observer` to start the animation when the user starts to scroll and the element at the top is no longer visible.\n\n\n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":10,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\nWe use 2 `amp-animation` elements to trigger the visibility of the button. The first one is for making the button visible...\n\n","code":"<amp-animation id=\"showAnim\"\n  layout=\"nodisplay\">\n  <script type=\"application/json\">\n    {\n      \"duration\": \"200ms\",\n      \"fill\": \"both\",\n      \"iterations\": \"1\",\n      \"direction\": \"alternate\",\n      \"animations\": [{\n        \"selector\": \"#scrollToTopButton\",\n        \"keyframes\": [{\n          \"opacity\": \"1\",\n          \"visibility\": \"visible\"\n        }]\n      }]\n    }\n  </script>\n</amp-animation>\n","preview":"  <amp-animation id=\"showAnim\"\n    layout=\"nodisplay\">\n    <script type=\"application/json\">\n      {\n        \"duration\": \"200ms\",\n        \"fill\": \"both\",\n        \"iterations\": \"1\",\n        \"direction\": \"alternate\",\n        \"animations\": [{\n          \"selector\": \"#scrollToTopButton\",\n          \"keyframes\": [{\n            \"opacity\": \"1\",\n            \"visibility\": \"visible\"\n          }]\n        }]\n      }\n    </script>\n  </amp-animation>\n","inBody":true,"id":11,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nWe use 2 `amp-animation` elements to trigger the visibility of the button. The first one is for making the button visible...\n\n"},{"doc_":"... and the second one is for adding the button.\n","code":"<amp-animation id=\"hideAnim\"\n  layout=\"nodisplay\">\n  <script type=\"application/json\">\n    {\n      \"duration\": \"200ms\",\n      \"fill\": \"both\",\n      \"iterations\": \"1\",\n      \"direction\": \"alternate\",\n      \"animations\": [{\n        \"selector\": \"#scrollToTopButton\",\n        \"keyframes\": [{\n          \"opacity\": \"0\",\n          \"visibility\": \"hidden\"\n        }]\n      }]\n    }\n  </script>\n</amp-animation>\n","preview":"  <amp-animation id=\"hideAnim\"\n    layout=\"nodisplay\">\n    <script type=\"application/json\">\n      {\n        \"duration\": \"200ms\",\n        \"fill\": \"both\",\n        \"iterations\": \"1\",\n        \"direction\": \"alternate\",\n        \"animations\": [{\n          \"selector\": \"#scrollToTopButton\",\n          \"keyframes\": [{\n            \"opacity\": \"0\",\n            \"visibility\": \"hidden\"\n          }]\n        }]\n      }\n    </script>\n  </amp-animation>\n","inBody":true,"id":12,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"... and the second one is for adding the button.\n"},{"doc_":"\nHere is a dummy spacer.\n\n","code":"<div class=\"spacer\"></div>\n","preview":"  <div class=\"spacer\"></div>\n","inBody":true,"id":13,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nHere is a dummy spacer.\n\n"},{"doc_":"## The scroll to top button\n","code":"","preview":"","inBody":true,"id":14,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"the-scroll-to-top-button","name":"The scroll to top button"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## The scroll to top button\n"},{"doc_":"\nWe use the `scrollTo` action to scroll the page when the button is tapped. Find more about actions [here](https://github.com/ampproject/amphtml/blob/master/spec/amp-actions-and-events.md).\n\n","code":"<button id=\"scrollToTopButton\"\n  on=\"tap:top.scrollTo(duration=200)\"\n  class=\"scrollToTop\">⌃</button>\n","preview":"  <button id=\"scrollToTopButton\"\n    on=\"tap:top.scrollTo(duration=200)\"\n    class=\"scrollToTop\">⌃</button>\n","inBody":true,"id":15,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nWe use the `scrollTo` action to scroll the page when the button is tapped. Find more about actions [here](https://github.com/ampproject/amphtml/blob/master/spec/amp-actions-and-events.md).\n\n"},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":16,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<meta charset=\"utf-8\">\n  <title>Scroll to top</title>\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <script async custom-element=\"amp-position-observer\" src=\"https://cdn.ampproject.org/v0/amp-position-observer-0.1.js\"></script>\n\n  <script async custom-element=\"amp-animation\" src=\"https://cdn.ampproject.org/v0/amp-animation-0.1.js\"></script>\n\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/visual-effects/scroll_to_top/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n","styles":"    :root {\n      --color-primary: #005AF0;\n      --color-secondary: #00DCC0;\n      --color-text-light: #fff;\n\n      --space-2: 1rem;   /* 16px */\n\n      --box-shadow-1: 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 1px -1px rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n    }\n    .scrollToTop {\n      color: var(--color-text-light);\n      font-size: 1.4em;\n      box-shadow: var(--box-shadow-1);\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      border: none;\n      outline: none;\n      background: var(--color-primary);\n      z-index: 9999;\n      bottom: var(--space-2);\n      right: var(--space-2);\n      position: fixed;\n      opacity: 0;\n      visibility: hidden;\n    }\n    .spacer {\n      width: 100vw;\n      max-width: 700px;\n      height: 200vh;\n      background-color: var(--color-secondary);\n    }\n    /* we move the anchor down to componsate the fixed header */\n    .target {\n      position: relative;\n    }\n    .target-anchor {\n      position: absolute;\n      top: -72px;\n      left: 0;\n    }\n","title":"Scroll to top","metadata":{"preview":"default","teaserImage":"/static/samples/img/teaser/scroll_to_top.jpg","author":"kul3r4"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":true,"isAmpAds":false,"isAmpEmail":false,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"amp-position-observer combined with amp-animation can be used to implement a scroll to top button."},"route":"/documentation/examples/visual-effects/scroll_to_top/index.html"}