{"filePath":"examples/source/interactivity-dynamic-content/Currency_Conversion.html","source":"<!-- ## Introduction\n  This example shows how to use [`amp-bind`](/documentation/components/amp-bind) to filter JSON data on select of option in select dropdown.\n--><!-- -->\n<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>\n    Currency Conversion\n  </title>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/currency_conversion/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <!-- ## Setup -->\n  <!-- We include `amp-bind` to track the state -->\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n</head>\n\n<body>\n  <!--\n  ## Implementation\n\n  This example uses a public currency endpoint to populate `amp-state`. The default value is `EUR` (euro) and we convert the currency values by updating `amp-state` when the user changes the dropdown to a different currency.\n  -->\n  <div>\n    <amp-state id=\"currencyFilter\" src=\"https://api.exchangeratesapi.io/latest\"></amp-state>\n    <amp-state id=\"defState\">\n      <script type=\"application/json\">\n        {\n          \"currencyRate\": 1,\n          \"currencyDecimal\": 2,\n          \"currencyCode\": \"EUR\"\n        }\n      </script>\n    </amp-state>\n    <select on=\"change:AMP.setState({\n                  defState: {\n                    currencyRate: event.value == 'EUR' ? 1 : currencyFilter.rates[event.value], \n                    currencyCode: event.value\n                  }\n                })\">\n      <option value=\"CAD\">CAD</option>\n      <option value=\"EUR\" selected>EUR</option>\n      <option value=\"HKD\">HKD</option>\n      <option value=\"ISK\">ISK</option>\n      <option value=\"USD\">USD</option>\n      <option value=\"GBP\">GBP</option>\n      <option value=\"RUB\">RUB</option>\n      <option value=\"INR\">INR</option>\n    </select>\n      <h3>Banana</h3>\n      <div>\n        <span [text]=\"defState.currencyCode\">EUR</span>\n        <span [text]=\"(2*defState.currencyRate).toFixed(defState.currencyDecimal)\">2.00</span>\n      </div>  \n      <amp-img src=\"https://cdn.glitch.com/cbcdd9ba-70f9-4d53-a19d-486e4b70f73f%2F440px-Cavendish_Banana_DS.jpg?v=1578089065672\" height=\"112\" width=\"112\" layout=\"fixed\" title=\"banana\"></amp-img>\n     </div>\n</body></html>","document":{"sections":[{"doc_":"## Introduction\n\nThis example shows how to use [`amp-bind`](/documentation/components/amp-bind) to filter JSON data on select of option in select dropdown.\n\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\"> This example shows how to use <a href=\"/documentation/components/amp-bind\"><code>amp-bind</code></a> to filter JSON data on select of option in select dropdown.</p>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Introduction\n This example shows how to use [`amp-bind`](/documentation/components/amp-bind) to filter JSON data on select of option in select dropdown.\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>\n    Currency Conversion\n  </title>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/currency_conversion/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"We include `amp-bind` to track the state \n","code":"<script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"We include `amp-bind` to track the state \n"},{"doc_":"","code":"<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n</head>\n\n<body>\n","preview":"","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\n## Implementation\n\nThis example uses a public currency endpoint to populate `amp-state`. The default value is `EUR` (euro) and we convert the currency values by updating `amp-state` when the user changes the dropdown to a different currency.\n\n","code":"<amp-state id=\"currencyFilter\"\n  src=\"https://api.exchangeratesapi.io/latest\"></amp-state>\n<amp-state id=\"defState\">\n  <script type=\"application/json\">\n    {\n      \"currencyRate\": 1,\n      \"currencyDecimal\": 2,\n      \"currencyCode\": \"EUR\"\n    }\n  </script>\n</amp-state>\n<select on=\"change:AMP.setState({\n              defState: {\n                currencyRate: event.value == 'EUR' ? 1 : currencyFilter.rates[event.value], \n                currencyCode: event.value\n              }\n            })\">\n  <option value=\"CAD\">CAD</option>\n  <option value=\"EUR\"\n    selected>EUR</option>\n  <option value=\"HKD\">HKD</option>\n  <option value=\"ISK\">ISK</option>\n  <option value=\"USD\">USD</option>\n  <option value=\"GBP\">GBP</option>\n  <option value=\"RUB\">RUB</option>\n  <option value=\"INR\">INR</option>\n</select>\n<h3>Banana</h3>\n<div>\n  <span [text]=\"defState.currencyCode\">EUR</span>\n  <span [text]=\"(2*defState.currencyRate).toFixed(defState.currencyDecimal)\">2.00</span>\n</div>\n<amp-img src=\"https://cdn.glitch.com/cbcdd9ba-70f9-4d53-a19d-486e4b70f73f%2F440px-Cavendish_Banana_DS.jpg?v=1578089065672\"\n  height=\"112\"\n  width=\"112\"\n  layout=\"fixed\"\n  title=\"banana\"></amp-img>","preview":"  <div>\n    <amp-state id=\"currencyFilter\"\n      src=\"https://api.exchangeratesapi.io/latest\"></amp-state>\n    <amp-state id=\"defState\">\n      <script type=\"application/json\">\n        {\n          \"currencyRate\": 1,\n          \"currencyDecimal\": 2,\n          \"currencyCode\": \"EUR\"\n        }\n      </script>\n    </amp-state>\n    <select on=\"change:AMP.setState({\n                  defState: {\n                    currencyRate: event.value == 'EUR' ? 1 : currencyFilter.rates[event.value], \n                    currencyCode: event.value\n                  }\n                })\">\n      <option value=\"CAD\">CAD</option>\n      <option value=\"EUR\"\n        selected>EUR</option>\n      <option value=\"HKD\">HKD</option>\n      <option value=\"ISK\">ISK</option>\n      <option value=\"USD\">USD</option>\n      <option value=\"GBP\">GBP</option>\n      <option value=\"RUB\">RUB</option>\n      <option value=\"INR\">INR</option>\n    </select>\n    <h3>Banana</h3>\n    <div>\n      <span [text]=\"defState.currencyCode\">EUR</span>\n      <span [text]=\"(2*defState.currencyRate).toFixed(defState.currencyDecimal)\">2.00</span>\n    </div>\n    <amp-img src=\"https://cdn.glitch.com/cbcdd9ba-70f9-4d53-a19d-486e4b70f73f%2F440px-Cavendish_Banana_DS.jpg?v=1578089065672\"\n      height=\"112\"\n      width=\"112\"\n      layout=\"fixed\"\n      title=\"banana\"></amp-img>\n  </div>\n","inBody":true,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[{"id":"implementation","name":"Implementation"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Implementation\n\nThis example uses a public currency endpoint to populate `amp-state`. The default value is `EUR` (euro) and we convert the currency values by updating `amp-state` when the user changes the dropdown to a different currency.\n\n"},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":6,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<meta charset=\"utf-8\">\n  <title>\n    Currency Conversion\n  </title>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/currency_conversion/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n","styles":"","title":"Currency Conversion","metadata":{"author":"philkrie"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":true,"isAmpAds":false,"isAmpEmail":false,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"This example shows how to use amp-bind to filter JSON data on select of option in select dropdown."},"route":"/documentation/examples/interactivity-dynamic-content/currency_conversion/index.html"}