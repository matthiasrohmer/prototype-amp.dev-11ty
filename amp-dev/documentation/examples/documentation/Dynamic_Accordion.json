{"filePath":"examples/source/interactivity-dynamic-content/Dynamic_Accordion.html","source":"<!--\n  ## Introduction\n\n  This code snippet shows how you can dynamically update data in `amp-accordion `sections using `amp-bind` and `amp-list`.\n--><!-- -->\n<!doctype html>\n<html ⚡>\n<head>\n<title>Dynamic Accordion</title>\n    <meta charset=\"utf-8\">\n    <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n    <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/dynamic_accordion/index.html\">\n    <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n    <!-- ## Setup -->\n    <!-- Import the `amp-accordion` component to display content in accordion. -->\n    <script async custom-element=\"amp-accordion\" src=\"https://cdn.ampproject.org/v0/amp-accordion-0.1.js\"></script>\n    <!-- Import the `amp-bind` component to update accordion state based on user input. -->\n    <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n    <!-- Import the `amp-list` component to dynamically display the names of hot or cold countries. -->\n    <script async custom-element=\"amp-list\" src=\"https://cdn.ampproject.org/v0/amp-list-0.1.js\"></script>\n    <!-- Import the `amp-mustache` component to dynamically display items from `amp-list`. -->\n    <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n  </head>\n  <body>\n      <h2>\n        Select which climate you prefer\n      </h2>\n      <!-- ## Implementation -->\n      <!--\n          The `input` section sets `amp-state` as `{climate: 1}` if 'Hot' is selected and `{climate: 2}` if 'Cold' is selected.\n          The `amp-accordion` is hidden by default, but displayed if climate != 0 (so either hot or cold must be selected).\n        -->\n        <div>\n          <input type=\"radio\" id=\"f-option1\" name=\"selector1\" role=\"button\" tabindex=\"0\" on=\"change:AMP.setState({climate:(event.checked) ? 1 : 0})\">\n          <label for=\"f-option1\">Warm</label>\n          <input type=\"radio\" id=\"f-option2\" name=\"selector1\" on=\"change:AMP.setState({climate: (event.checked) ? 2 : 0})\" role=\"button\" tabindex=\"0\">\n          <label for=\"f-option2\">Cold</label>\n          </div>\n          <!-- ## Accordion -->\n          <!--\n          Each `amp-accordion` section is a different continent, therefore the `climateCountries` data also must be filtered by continent. This filtering is done in the `[src]` section of `amp-list`. Additionally, height is dynamically set based on number of items in filtered state.\n\n          The `src` for `climateCountries` is dynamic based on user input. If `{climate == 1}` then `climateCountries` data is pulled from the hot.json file. Else, if `{climate == 2}` then climateCountries data is pulled from the cold.json file\n        -->\n      <div id=\"accordion\" [hidden]=\"climate == 0\" hidden>\n        <p>The accordion below lists countries, organized by continent, that match the climate you chose. </p>\n        <amp-state id=\"climateCountries\" [src]=\"climate == 1 ? '/static/samples/json/hot.json': climate == 2 ? '/static/samples/json/cold.json': ''\">\n        </amp-state>\n        <amp-accordion>\n          <section>\n            <h4>\n              Asia\n            </h4>\n              <amp-list layout=\"fixed-height\" height=\"0\" binding=\"refresh\" [src]=\"climateCountries.countries.filter(country => country.continent == 'Asia')\" [is-layout-container]=\"true\">\n                <template type=\"amp-mustache\">\n                  <ul>\n                    <span>{{Name}}</span>\n                  </ul>\n                </template>\n              </amp-list>\n          </section>\n          <section>\n            <h4>\n              Europe\n            </h4>\n              <amp-list layout=\"fixed-height\" height=\"0\" binding=\"refresh\" [src]=\"climateCountries.countries.filter(country => country.continent == 'Europe')\" [is-layout-container]=\"true\">\n                <template type=\"amp-mustache\">\n                  <ul>\n                    <span>{{Name}}</span>\n                  </ul>\n                </template>\n              </amp-list>\n          </section>\n          <section>\n            <h4>\n              South America\n            </h4>\n              <amp-list layout=\"fixed-height\" height=\"0\" binding=\"refresh\" [src]=\"climateCountries.countries.filter(country => country.continent == 'South America')\" [is-layout-container]=\"true\">\n                <template type=\"amp-mustache\">\n                  <ul>\n                    <span>{{Name}}</span>\n                  </ul>\n                </template>\n              </amp-list>\n          </section>\n          <section>\n            <h4>\n              North America\n            </h4>\n              <amp-list layout=\"fixed-height\" height=\"0\" binding=\"refresh\" [src]=\"climateCountries.countries.filter(country => country.continent == 'North America')\" [is-layout-container]=\"true\">\n                <template type=\"amp-mustache\">\n                  <ul>\n                    <span>{{Name}}</span>\n                  </ul>\n                </template>\n              </amp-list>\n          </section>\n        </amp-accordion>\n      </div>\n</body></html>","document":{"sections":[{"doc_":"\n## Introduction\n\nThis code snippet shows how you can dynamically update data in `amp-accordion `sections using `amp-bind` and `amp-list`.\n\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\">This code snippet shows how you can dynamically update data in <code>amp-accordion</code>sections using <code>amp-bind</code> and <code>amp-list</code>.</p>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Introduction\n\nThis code snippet shows how you can dynamically update data in `amp-accordion `sections using `amp-bind` and `amp-list`.\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡>\n<head>\n<title>Dynamic Accordion</title>\n    <meta charset=\"utf-8\">\n    <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n    <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/dynamic_accordion/index.html\">\n    <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"Import the `amp-accordion` component to display content in accordion. \n","code":"<script async custom-element=\"amp-accordion\" src=\"https://cdn.ampproject.org/v0/amp-accordion-0.1.js\"></script>\n","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import the `amp-accordion` component to display content in accordion. \n"},{"doc_":"Import the `amp-bind` component to update accordion state based on user input. \n","code":"<script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n","preview":"","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import the `amp-bind` component to update accordion state based on user input. \n"},{"doc_":"Import the `amp-list` component to dynamically display the names of hot or cold countries. \n","code":"<script async custom-element=\"amp-list\" src=\"https://cdn.ampproject.org/v0/amp-list-0.1.js\"></script>\n","preview":"","inBody":false,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import the `amp-list` component to dynamically display the names of hot or cold countries. \n"},{"doc_":"Import the `amp-mustache` component to dynamically display items from `amp-list`. \n","code":"<script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n","preview":"","inBody":false,"id":6,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import the `amp-mustache` component to dynamically display items from `amp-list`. \n"},{"doc_":"","code":"<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n</head>\n<body>\n<h2>\nSelect which climate you prefer\n</h2>\n","preview":"  <h2>\n    Select which climate you prefer\n  </h2>\n","inBody":false,"id":7,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Implementation\n","code":"","preview":"","inBody":true,"id":8,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"implementation","name":"Implementation"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Implementation\n"},{"doc_":"\nThe `input` section sets `amp-state` as `{climate: 1}` if 'Hot' is selected and `{climate: 2}` if 'Cold' is selected.\nThe `amp-accordion` is hidden by default, but displayed if climate != 0 (so either hot or cold must be selected).\n\n","code":"<input type=\"radio\"\n  id=\"f-option1\"\n  name=\"selector1\"\n  role=\"button\"\n  tabindex=\"0\"\n  on=\"change:AMP.setState({climate:(event.checked) ? 1 : 0})\">\n<label for=\"f-option1\">Warm</label>\n<input type=\"radio\"\n  id=\"f-option2\"\n  name=\"selector1\"\n  on=\"change:AMP.setState({climate: (event.checked) ? 2 : 0})\"\n  role=\"button\"\n  tabindex=\"0\">\n<label for=\"f-option2\">Cold</label>","preview":"  <div>\n    <input type=\"radio\"\n      id=\"f-option1\"\n      name=\"selector1\"\n      role=\"button\"\n      tabindex=\"0\"\n      on=\"change:AMP.setState({climate:(event.checked) ? 1 : 0})\">\n    <label for=\"f-option1\">Warm</label>\n    <input type=\"radio\"\n      id=\"f-option2\"\n      name=\"selector1\"\n      on=\"change:AMP.setState({climate: (event.checked) ? 2 : 0})\"\n      role=\"button\"\n      tabindex=\"0\">\n    <label for=\"f-option2\">Cold</label>\n  </div>\n","inBody":true,"id":9,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThe `input` section sets `amp-state` as `{climate: 1}` if 'Hot' is selected and `{climate: 2}` if 'Cold' is selected.\nThe `amp-accordion` is hidden by default, but displayed if climate != 0 (so either hot or cold must be selected).\n\n"},{"doc_":"## Accordion\n","code":"","preview":"","inBody":true,"id":10,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"accordion","name":"Accordion"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Accordion\n"},{"doc_":"\nEach `amp-accordion` section is a different continent, therefore the `climateCountries` data also must be filtered by continent. This filtering is done in the `[src]` section of `amp-list`. Additionally, height is dynamically set based on number of items in filtered state.\n\nThe `src` for `climateCountries` is dynamic based on user input. If `{climate == 1}` then `climateCountries` data is pulled from the hot.json file. Else, if `{climate == 2}` then climateCountries data is pulled from the cold.json file\n\n","code":"<div id=\"accordion\"\n  [hidden]=\"climate == 0\"\n  hidden>\n  <p>The accordion below lists countries, organized by continent, that match the climate you chose. </p>\n  <amp-state id=\"climateCountries\"\n    [src]=\"climate == 1 ? '/static/samples/json/hot.json': climate == 2 ? '/static/samples/json/cold.json': ''\">\n  </amp-state>\n  <amp-accordion>\n    <section>\n      <h4>\n        Asia\n      </h4>\n      <amp-list layout=\"fixed-height\"\n        height=\"0\"\n        binding=\"refresh\"\n        [src]=\"climateCountries.countries.filter(country => country.continent == 'Asia')\"\n        [is-layout-container]=\"true\">\n        <template type=\"amp-mustache\">\n          <ul>\n            <span>{{Name}}</span>\n          </ul>\n        </template>\n      </amp-list>\n    </section>\n    <section>\n      <h4>\n        Europe\n      </h4>\n      <amp-list layout=\"fixed-height\"\n        height=\"0\"\n        binding=\"refresh\"\n        [src]=\"climateCountries.countries.filter(country => country.continent == 'Europe')\"\n        [is-layout-container]=\"true\">\n        <template type=\"amp-mustache\">\n          <ul>\n            <span>{{Name}}</span>\n          </ul>\n        </template>\n      </amp-list>\n    </section>\n    <section>\n      <h4>\n        South America\n      </h4>\n      <amp-list layout=\"fixed-height\"\n        height=\"0\"\n        binding=\"refresh\"\n        [src]=\"climateCountries.countries.filter(country => country.continent == 'South America')\"\n        [is-layout-container]=\"true\">\n        <template type=\"amp-mustache\">\n          <ul>\n            <span>{{Name}}</span>\n          </ul>\n        </template>\n      </amp-list>\n    </section>\n    <section>\n      <h4>\n        North America\n      </h4>\n      <amp-list layout=\"fixed-height\"\n        height=\"0\"\n        binding=\"refresh\"\n        [src]=\"climateCountries.countries.filter(country => country.continent == 'North America')\"\n        [is-layout-container]=\"true\">\n        <template type=\"amp-mustache\">\n          <ul>\n            <span>{{Name}}</span>\n          </ul>\n        </template>\n      </amp-list>\n    </section>\n  </amp-accordion>\n</div>\n","preview":"  <div id=\"accordion\"\n    [hidden]=\"climate == 0\"\n    hidden>\n    <p>The accordion below lists countries, organized by continent, that match the climate you chose. </p>\n    <amp-state id=\"climateCountries\"\n      [src]=\"climate == 1 ? '/static/samples/json/hot.json': climate == 2 ? '/static/samples/json/cold.json': ''\">\n    </amp-state>\n    <amp-accordion>\n      <section>\n        <h4>\n          Asia\n        </h4>\n        <amp-list layout=\"fixed-height\"\n          height=\"0\"\n          binding=\"refresh\"\n          [src]=\"climateCountries.countries.filter(country => country.continent == 'Asia')\"\n          [is-layout-container]=\"true\">\n          <template type=\"amp-mustache\">\n            <ul>\n              <span>{{Name}}</span>\n            </ul>\n          </template>\n        </amp-list>\n      </section>\n      <section>\n        <h4>\n          Europe\n        </h4>\n        <amp-list layout=\"fixed-height\"\n          height=\"0\"\n          binding=\"refresh\"\n          [src]=\"climateCountries.countries.filter(country => country.continent == 'Europe')\"\n          [is-layout-container]=\"true\">\n          <template type=\"amp-mustache\">\n            <ul>\n              <span>{{Name}}</span>\n            </ul>\n          </template>\n        </amp-list>\n      </section>\n      <section>\n        <h4>\n          South America\n        </h4>\n        <amp-list layout=\"fixed-height\"\n          height=\"0\"\n          binding=\"refresh\"\n          [src]=\"climateCountries.countries.filter(country => country.continent == 'South America')\"\n          [is-layout-container]=\"true\">\n          <template type=\"amp-mustache\">\n            <ul>\n              <span>{{Name}}</span>\n            </ul>\n          </template>\n        </amp-list>\n      </section>\n      <section>\n        <h4>\n          North America\n        </h4>\n        <amp-list layout=\"fixed-height\"\n          height=\"0\"\n          binding=\"refresh\"\n          [src]=\"climateCountries.countries.filter(country => country.continent == 'North America')\"\n          [is-layout-container]=\"true\">\n          <template type=\"amp-mustache\">\n            <ul>\n              <span>{{Name}}</span>\n            </ul>\n          </template>\n        </amp-list>\n      </section>\n    </amp-accordion>\n  </div>\n","inBody":true,"id":11,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nEach `amp-accordion` section is a different continent, therefore the `climateCountries` data also must be filtered by continent. This filtering is done in the `[src]` section of `amp-list`. Additionally, height is dynamically set based on number of items in filtered state.\n\nThe `src` for `climateCountries` is dynamic based on user input. If `{climate == 1}` then `climateCountries` data is pulled from the hot.json file. Else, if `{climate == 2}` then climateCountries data is pulled from the cold.json file\n\n"},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":12,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<title>Dynamic Accordion</title>\n    <meta charset=\"utf-8\">\n    <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n    <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/dynamic_accordion/index.html\">\n    <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n    <script async custom-element=\"amp-accordion\" src=\"https://cdn.ampproject.org/v0/amp-accordion-0.1.js\"></script>\n    <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n    <script async custom-element=\"amp-list\" src=\"https://cdn.ampproject.org/v0/amp-list-0.1.js\"></script>\n    <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n","styles":"","title":"Dynamic Accordion","metadata":{"author":"elisameyer"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":true,"isAmpAds":false,"isAmpEmail":false,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"This code snippet shows how you can dynamically update data in amp-accordionsections using amp-bind and amp-list."},"route":"/documentation/examples/interactivity-dynamic-content/dynamic_accordion/index.html"}