{"filePath":"examples/source/interactivity-dynamic-content/Copy_Button.html","source":"<!-- ## Introduction --><!--\nThis is a sample showing how to add a \"copy\" button to your page, allowing the user to copy some\nfixed item per-page. This uses an `amp-iframe`, running custom JS, that loads in the background\nwhile a placeholder button remains visible.\n--><!-- -->\n<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n\n  <!-- ## Setup -->\n  <!-- We use `amp-iframe` to load a copy button, replacing a placeholder button.-->\n  <script async custom-element=\"amp-iframe\" src=\"https://cdn.ampproject.org/v0/amp-iframe-0.1.js\"></script>\n\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/copy_button/index.html\">\n  <title>Copy Button</title>\n\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n  <style amp-custom>\n/* common styles for button */\nbutton.copy-button {\n  box-sizing: border-box;\n  font: inherit;\n  font-size: 18px;\n  line-height: 2em;\n  cursor: pointer;\n  border-radius: 4px;\n  border: 2px solid transparent;\n  background: #555;\n  padding: 0 8px;\n  color: #fff;\n  display: block;\n}\n/* disable for placeholder */\nbutton.copy-button {\n  cursor: not-allowed;\n  width: 100%;\n  height: 100%;\n}\n/* misc demo CSS */\nmain.copy-button-example {\n  display: flex;\n  align-items: center;\n  padding: 1em;\n  font-family: Sans-Serif;\n}\nmain.copy-button-example span {\n  margin: 0 0.5em;\n}\nmain.copy-button-example span div {\n  margin-top: 0.25em;\n}\n  </style>\n</head>\n<body>\n\n<h2 class=\"m1\"> Simple copy button</h2>\n<main class=\"copy-button-example\">\n  <!-- ## How a \"Copy\" button works -->\n  <!-- By including `amp-iframe` with custom JS (this is in `/static/samples/files/copier.html`), we can perform any operation from vanilla JS, including copy.\n\n       The iframe is allowed to load anywhere on your AMP as it has a placeholder, and in our case, this placeholder has exactly the same presentation as the final display so it's not obvious when it is \"swapped out\". Users who hover over the button before it loads will see a \"disabled\" indicator.\n\n       We pass the data to be copied via the hash. The copier \"helper\" page can always serve the same HTML and can be cached in its own right.\n  -->\n  <amp-iframe sandbox=\"allow-scripts\" width=\"64\" height=\"42\" frameborder=\"0\" src=\"/static/samples/files/copier.html#This text was copied from amp.dev!\">\n    <button class=\"copy-button\" placeholder disabled>Copy</button>\n  </amp-iframe>\n  <span>\n    Copy some fixed text\n  </span>\n</main>\n\n<h2 class=\"m1\">Dynamic copy button</h2>\n<main class=\"copy-button-example\">\n  <!-- ## Dynamically change the value to copy -->\n  <!-- We can use `amp-bind` to update the value being passed to the copier iframe. Whenever the value is changed (via `input-debounced`), we update the hash param on the iframe so the copier can copy the new value.\n\n  First we define an input field which updates an `amp-state` variable called `textToCopy`.-->\n  <span>\n    <input type=\"text\" value=\"Hello World\" on=\"input-debounced: AMP.setState({ textToCopy: event.value })\">\n    <div>Copy the contents of the input</div>\n  </span>\n  <!-- Then we bind the iframe's `src` attribute to the value of the `textToCopy` `amp-state` variable. -->\n  <amp-iframe sandbox=\"allow-scripts\" width=\"64\" height=\"42\" frameborder=\"0\" src=\"/static/samples/files/copier.html#Hello World\" [src]=\"'/static/samples/files/copier.html#' + textToCopy\">\n    <button class=\"copy-button\" placeholder disabled>Copy</button>\n  </amp-iframe>\n</main>\n</body></html>","document":{"sections":[{"doc_":"## Introduction\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Introduction\n"},{"doc_":"\nThis is a sample showing how to add a \"copy\" button to your page, allowing the user to copy some\nfixed item per-page. This uses an `amp-iframe`, running custom JS, that loads in the background\nwhile a placeholder button remains visible.\n\n","code":"","preview":"","inBody":false,"id":1,"cachedMarkedDoc":"<p class=\"mb2 px1\">This is a sample showing how to add a &quot;copy&quot; button to your page, allowing the user to copy some\nfixed item per-page. This uses an <code>amp-iframe</code>, running custom JS, that loads in the background\nwhile a placeholder button remains visible.</p>","isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThis is a sample showing how to add a \"copy\" button to your page, allowing the user to copy some\nfixed item per-page. This uses an `amp-iframe`, running custom JS, that loads in the background\nwhile a placeholder button remains visible.\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n\n","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"We use `amp-iframe` to load a copy button, replacing a placeholder button.\n","code":"<script async custom-element=\"amp-iframe\" src=\"https://cdn.ampproject.org/v0/amp-iframe-0.1.js\"></script>\n","preview":"","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"We use `amp-iframe` to load a copy button, replacing a placeholder button.\n"},{"doc_":"","code":"\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/copy_button/index.html\">\n  <title>Copy Button</title>\n\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n  <style amp-custom>\n/* common styles for button */\nbutton.copy-button {\n  box-sizing: border-box;\n  font: inherit;\n  font-size: 18px;\n  line-height: 2em;\n  cursor: pointer;\n  border-radius: 4px;\n  border: 2px solid transparent;\n  background: #555;\n  padding: 0 8px;\n  color: #fff;\n  display: block;\n}\n/* disable for placeholder */\nbutton.copy-button {\n  cursor: not-allowed;\n  width: 100%;\n  height: 100%;\n}\n/* misc demo CSS */\nmain.copy-button-example {\n  display: flex;\n  align-items: center;\n  padding: 1em;\n  font-family: Sans-Serif;\n}\nmain.copy-button-example span {\n  margin: 0 0.5em;\n}\nmain.copy-button-example span div {\n  margin-top: 0.25em;\n}\n  </style>\n</head>\n<body>\n\n  <h2 class=\"m1\"> Simple copy button</h2>\n  <main class=\"copy-button-example\">\n","preview":"\n  <h2 class=\"m1\"> Simple copy button</h2>\n  <main class=\"copy-button-example\">\n","inBody":false,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## How a \"Copy\" button works\n","code":"","preview":"","inBody":true,"id":6,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"how-a-\"copy\"-button-works","name":"How a \"Copy\" button works"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## How a \"Copy\" button works\n"},{"doc_":"By including `amp-iframe` with custom JS (this is in `/static/samples/files/copier.html`), we can perform any operation from vanilla JS, including copy.\n\nThe iframe is allowed to load anywhere on your AMP as it has a placeholder, and in our case, this placeholder has exactly the same presentation as the final display so it's not obvious when it is \"swapped out\". Users who hover over the button before it loads will see a \"disabled\" indicator.\n\nWe pass the data to be copied via the hash. The copier \"helper\" page can always serve the same HTML and can be cached in its own right.\n\n","code":"<amp-iframe sandbox=\"allow-scripts\"\n  width=\"64\"\n  height=\"42\"\n  frameborder=\"0\"\n  src=\"/static/samples/files/copier.html#This text was copied from amp.dev!\">\n  <button class=\"copy-button\"\n    placeholder\n    disabled>Copy</button>\n</amp-iframe>\n","preview":"    <amp-iframe sandbox=\"allow-scripts\"\n      width=\"64\"\n      height=\"42\"\n      frameborder=\"0\"\n      src=\"/static/samples/files/copier.html#This text was copied from amp.dev!\">\n      <button class=\"copy-button\"\n        placeholder\n        disabled>Copy</button>\n    </amp-iframe>\n","inBody":true,"id":7,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"By including `amp-iframe` with custom JS (this is in `/static/samples/files/copier.html`), we can perform any operation from vanilla JS, including copy.\n\n  The iframe is allowed to load anywhere on your AMP as it has a placeholder, and in our case, this placeholder has exactly the same presentation as the final display so it's not obvious when it is \"swapped out\". Users who hover over the button before it loads will see a \"disabled\" indicator.\n\n  We pass the data to be copied via the hash. The copier \"helper\" page can always serve the same HTML and can be cached in its own right.\n\n"},{"doc_":"","code":"<span>\n  Copy some fixed text\n</span>\n</main>\n\n<h2 class=\"m1\">Dynamic copy button</h2>\n<main class=\"copy-button-example\">\n","preview":"    <span>\n      Copy some fixed text\n    </span>\n  </main>\n\n  <h2 class=\"m1\">Dynamic copy button</h2>\n  <main class=\"copy-button-example\">\n","inBody":true,"id":8,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Dynamically change the value to copy\n","code":"","preview":"","inBody":true,"id":9,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"dynamically-change-the-value-to-copy","name":"Dynamically change the value to copy"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Dynamically change the value to copy\n"},{"doc_":"\nWe can use `amp-bind` to update the value being passed to the copier iframe. Whenever the value is changed (via `input-debounced`), we update the hash param on the iframe so the copier can copy the new value.\n\nFirst we define an input field which updates an `amp-state` variable called `textToCopy`.\n","code":"<span>\n  <input type=\"text\"\n    value=\"Hello World\"\n    on=\"input-debounced: AMP.setState({ textToCopy: event.value })\">\n  <div>Copy the contents of the input</div>\n</span>\n","preview":"    <span>\n      <input type=\"text\"\n        value=\"Hello World\"\n        on=\"input-debounced: AMP.setState({ textToCopy: event.value })\">\n      <div>Copy the contents of the input</div>\n    </span>\n","inBody":true,"id":10,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"   We can use `amp-bind` to update the value being passed to the copier iframe. Whenever the value is changed (via `input-debounced`), we update the hash param on the iframe so the copier can copy the new value.\n\nFirst we define an input field which updates an `amp-state` variable called `textToCopy`.\n"},{"doc_":"Then we bind the iframe's `src` attribute to the value of the `textToCopy` `amp-state` variable. \n","code":"<amp-iframe sandbox=\"allow-scripts\"\n  width=\"64\"\n  height=\"42\"\n  frameborder=\"0\"\n  src=\"/static/samples/files/copier.html#Hello World\"\n  [src]=\"'/static/samples/files/copier.html#' + textToCopy\">\n  <button class=\"copy-button\"\n    placeholder\n    disabled>Copy</button>\n</amp-iframe>\n","preview":"    <amp-iframe sandbox=\"allow-scripts\"\n      width=\"64\"\n      height=\"42\"\n      frameborder=\"0\"\n      src=\"/static/samples/files/copier.html#Hello World\"\n      [src]=\"'/static/samples/files/copier.html#' + textToCopy\">\n      <button class=\"copy-button\"\n        placeholder\n        disabled>Copy</button>\n    </amp-iframe>\n","inBody":true,"id":11,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Then we bind the iframe's `src` attribute to the value of the `textToCopy` `amp-state` variable. \n"},{"doc_":"","code":"</main>\n","preview":"  </main>\n","inBody":true,"id":12,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":13,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<meta charset=\"utf-8\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n\n  <script async custom-element=\"amp-iframe\" src=\"https://cdn.ampproject.org/v0/amp-iframe-0.1.js\"></script>\n\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/copy_button/index.html\">\n  <title>Copy Button</title>\n\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n","styles":"/* common styles for button */\nbutton.copy-button {\n  box-sizing: border-box;\n  font: inherit;\n  font-size: 18px;\n  line-height: 2em;\n  cursor: pointer;\n  border-radius: 4px;\n  border: 2px solid transparent;\n  background: #555;\n  padding: 0 8px;\n  color: #fff;\n  display: block;\n}\n/* disable for placeholder */\nbutton.copy-button {\n  cursor: not-allowed;\n  width: 100%;\n  height: 100%;\n}\n/* misc demo CSS */\nmain.copy-button-example {\n  display: flex;\n  align-items: center;\n  padding: 1em;\n  font-family: Sans-Serif;\n}\nmain.copy-button-example span {\n  margin: 0 0.5em;\n}\nmain.copy-button-example span div {\n  margin-top: 0.25em;\n}\n","title":"Copy Button","metadata":{"preview":"default","teaserImage":"/static/samples/img/teaser/copy_button.jpg","author":"samthor"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":true,"isAmpAds":false,"isAmpEmail":false,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"This is a sample showing how to add a &quot;copy&quot; button to your page, allowing the user to copy some fixed item per-page."},"route":"/documentation/examples/interactivity-dynamic-content/copy_button/index.html"}