{"filePath":"examples/source/interactivity-dynamic-content/Dynamic_Content_After_User-Interaction.html","source":"<!--\n  ## Introduction\n\n  This is a sample showing how to show dynamic content after an user interaction: the product availability will be shown based on product selection.\n--><!-- -->\n<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n    <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n\n    <!--\n      ## Setup\n\n      We use `amp-bind` to dynamically update the page content.\n    -->\n    <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n\n    <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/dynamic_content_after_user-interaction/index.html\">\n    <title>Dynamic Content After User-Interaction</title>\n\n    <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n\n    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n  </head>\n  <body>\n    <!-- ## How to get dynamic content -->\n    <!-- By using `amp-bind` and `amp-state` with a JSON end-point, a user can get up-to-date data after an interaction. As `amp-bind` statements are not evaluated on page load, the updated state is only available after an user interaction, which works well for use cases such as specific product availability. -->\n    <div>\n      <amp-state id=\"products\" src=\"/static/samples/json/products.json\"></amp-state>\n\n      <amp-img on=\"tap:AMP.setState({ productId: 0})\" src=\"/static/samples/img/red_apple_1_60x40.jpg\" width=\"60\" height=\"40\" role=\"button\" tabindex=\"0\">\n      </amp-img>\n      <amp-img on=\"tap:AMP.setState({ productId: 1})\" src=\"/static/samples/img/green_apple_1_60x40.jpg\" width=\"60\" height=\"40\" role=\"button\" tabindex=\"0\">\n      </amp-img>\n      <amp-img on=\"tap:AMP.setState({ productId: 2})\" src=\"/static/samples/img/product1_alt1_60x40.jpg\" width=\"60\" height=\"40\" role=\"button\" tabindex=\"0\">\n      </amp-img>\n      <div [text]=\"products[productId] + ' available'\">Please select a product</div>\n    </div>\n</body></html>","document":{"sections":[{"doc_":"\n## Introduction\n\nThis is a sample showing how to show dynamic content after an user interaction: the product availability will be shown based on product selection.\n\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\">This is a sample showing how to show dynamic content after an user interaction: the product availability will be shown based on product selection.</p>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Introduction\n\nThis is a sample showing how to show dynamic content after an user interaction: the product availability will be shown based on product selection.\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n    <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"\n## Setup\n\nWe use `amp-bind` to dynamically update the page content.\n\n","code":"<script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Setup\n\nWe use `amp-bind` to dynamically update the page content.\n\n"},{"doc_":"","code":"\n    <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/dynamic_content_after_user-interaction/index.html\">\n    <title>Dynamic Content After User-Interaction</title>\n\n    <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n\n    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n  </head>\n<body>\n","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## How to get dynamic content\n","code":"","preview":"","inBody":true,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"how-to-get-dynamic-content","name":"How to get dynamic content"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## How to get dynamic content\n"},{"doc_":"By using `amp-bind` and `amp-state` with a JSON end-point, a user can get up-to-date data after an interaction. As `amp-bind` statements are not evaluated on page load, the updated state is only available after an user interaction, which works well for use cases such as specific product availability. \n","code":"<amp-state id=\"products\"\n  src=\"/static/samples/json/products.json\"></amp-state>\n\n<amp-img on=\"tap:AMP.setState({ productId: 0})\"\n  src=\"/static/samples/img/red_apple_1_60x40.jpg\"\n  width=\"60\"\n  height=\"40\"\n  role=\"button\"\n  tabindex=\"0\">\n</amp-img>\n<amp-img on=\"tap:AMP.setState({ productId: 1})\"\n  src=\"/static/samples/img/green_apple_1_60x40.jpg\"\n  width=\"60\"\n  height=\"40\"\n  role=\"button\"\n  tabindex=\"0\">\n</amp-img>\n<amp-img on=\"tap:AMP.setState({ productId: 2})\"\n  src=\"/static/samples/img/product1_alt1_60x40.jpg\"\n  width=\"60\"\n  height=\"40\"\n  role=\"button\"\n  tabindex=\"0\">\n</amp-img>\n<div [text]=\"products[productId] + ' available'\">Please select a product</div>","preview":"  <div>\n    <amp-state id=\"products\"\n      src=\"/static/samples/json/products.json\"></amp-state>\n\n    <amp-img on=\"tap:AMP.setState({ productId: 0})\"\n      src=\"/static/samples/img/red_apple_1_60x40.jpg\"\n      width=\"60\"\n      height=\"40\"\n      role=\"button\"\n      tabindex=\"0\">\n    </amp-img>\n    <amp-img on=\"tap:AMP.setState({ productId: 1})\"\n      src=\"/static/samples/img/green_apple_1_60x40.jpg\"\n      width=\"60\"\n      height=\"40\"\n      role=\"button\"\n      tabindex=\"0\">\n    </amp-img>\n    <amp-img on=\"tap:AMP.setState({ productId: 2})\"\n      src=\"/static/samples/img/product1_alt1_60x40.jpg\"\n      width=\"60\"\n      height=\"40\"\n      role=\"button\"\n      tabindex=\"0\">\n    </amp-img>\n    <div [text]=\"products[productId] + ' available'\">Please select a product</div>\n  </div>\n","inBody":true,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"By using `amp-bind` and `amp-state` with a JSON end-point, a user can get up-to-date data after an interaction. As `amp-bind` statements are not evaluated on page load, the updated state is only available after an user interaction, which works well for use cases such as specific product availability. \n"},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":6,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<meta charset=\"utf-8\">\n    <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n\n    <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n\n    <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/dynamic_content_after_user-interaction/index.html\">\n    <title>Dynamic Content After User-Interaction</title>\n\n    <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n\n    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n\n","styles":"","title":"Dynamic Content After User-Interaction","metadata":{"teaserImage":"/static/samples/img/teaser/dynamic_content_after_user-interaction.jpg","author":"kul3r4"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":true,"isAmpAds":false,"isAmpEmail":false,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"This is a sample showing how to show dynamic content after an user interaction: the product availability will be shown based on product selection."},"route":"/documentation/examples/interactivity-dynamic-content/dynamic_content_after_user-interaction/index.html"}