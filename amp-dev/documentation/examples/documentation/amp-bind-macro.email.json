{"filePath":"examples/source/1.components/amp-bind-macro.html","source":"<!--\n  ## Introduction\n\n  This example shows how you can sanitize user input for a URL with an\n  `amp-bind-macro` call.\n--><!-- -->\n<!doctype html>\n<html ⚡4email>\n<head>\n<meta charset=\"utf-8\">\n    <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n    <!-- ## Setup -->\n    <!-- Import the `amp-bind` component to use `amp-bind-macro`. -->\n    <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n    <style amp4email-boilerplate>body{visibility:hidden}</style>\n  </head>\n  <body>\n    <h1>\n      AMP bind macro text sanitization\n    </h1>\n    <!-- ## Implementation -->\n    <!-- the `replaceSpace` expression defined in `amp-bind-macro` replaces spaces in user input with `s/ /%20/`\n          and sets all letters to lowercase to match url format for Google search -->\n    <div>\n    <amp-bind-macro id=\"replaceSpace\" arguments=\"str\" expression=\"str.toLowerCase().split(' ').join('%20')\">\n    </amp-bind-macro>\n\n    <p>\n      Type in something you want to search with spaces\n    </p>\n    <input type=\"text\" placeholder=\"Search Query\" on=\"input-throttled:AMP.setState({ argumentString: event.value })\">\n      <p [text]=\"'You have create a sanitized link: https://www.google.com/search?q=' + replaceSpace(argumentString)\">\n        Your sanitized link will display here. You can copy and paste into search bar to test.\n      </p>\n      </div>\n</body></html>","document":{"sections":[{"doc_":"\n## Introduction\n\nThis example shows how you can sanitize user input for a URL with an\n`amp-bind-macro` call.\n\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\">This example shows how you can sanitize user input for a URL with an\n<code>amp-bind-macro</code> call.</p>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Introduction\n\nThis example shows how you can sanitize user input for a URL with an\n`amp-bind-macro` call.\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡4email>\n<head>\n<meta charset=\"utf-8\">\n    <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"Import the `amp-bind` component to use `amp-bind-macro`. \n","code":"<script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import the `amp-bind` component to use `amp-bind-macro`. \n"},{"doc_":"","code":"<style amp4email-boilerplate>body{visibility:hidden}</style>\n</head>\n<body>\n<h1>\nAMP bind macro text sanitization\n</h1>\n","preview":"  <h1>\n    AMP bind macro text sanitization\n  </h1>\n","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":4,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Implementation\n","code":"","preview":"","inBody":true,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"implementation","name":"Implementation"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Implementation\n"},{"doc_":"the `replaceSpace` expression defined in `amp-bind-macro` replaces spaces in user input with `s/ /%20/`\n\nand sets all letters to lowercase to match url format for Google search \n","code":"<amp-bind-macro id=\"replaceSpace\"\n  arguments=\"str\"\n  expression=\"str.toLowerCase().split(' ').join('%20')\">\n</amp-bind-macro>\n\n<p>\n  Type in something you want to search with spaces\n</p>\n<input type=\"text\"\n  placeholder=\"Search Query\"\n  on=\"input-throttled:AMP.setState({ argumentString: event.value })\">\n<p [text]=\"'You have create a sanitized link: https://www.google.com/search?q=' + replaceSpace(argumentString)\">\n  Your sanitized link will display here. You can copy and paste into search bar to test.\n</p>","preview":"  <div>\n    <amp-bind-macro id=\"replaceSpace\"\n      arguments=\"str\"\n      expression=\"str.toLowerCase().split(' ').join('%20')\">\n    </amp-bind-macro>\n\n    <p>\n      Type in something you want to search with spaces\n    </p>\n    <input type=\"text\"\n      placeholder=\"Search Query\"\n      on=\"input-throttled:AMP.setState({ argumentString: event.value })\">\n    <p [text]=\"'You have create a sanitized link: https://www.google.com/search?q=' + replaceSpace(argumentString)\">\n      Your sanitized link will display here. You can copy and paste into search bar to test.\n    </p>\n  </div>\n","inBody":true,"id":6,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"the `replaceSpace` expression defined in `amp-bind-macro` replaces spaces in user input with `s/ /%20/`\n       and sets all letters to lowercase to match url format for Google search \n"},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":7,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<meta charset=\"utf-8\">\n    <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n    <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n    <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\"><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n","styles":"","title":"amp-bind-macro","metadata":{"author":"elisameyer"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":false,"isAmpAds":false,"isAmpEmail":true,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"This example shows how you can sanitize user input for a URL with an amp-bind-macro call."},"route":"/documentation/examples/components/amp-bind-macro.email/index.html"}