{"filePath":"examples/source/interactivity-dynamic-content/Article_Bookmark_Email/index.html","source":"<!--\n## Introduction\n\nThis sample demonstrates how to let users perform an asynchronous action (bookmarking an article)\nin an AMP email.\n\nIt leverages the [`amp-form`](/documentation/components/amp-form) extension to\nsend a request to the server without the user leaving their e-mail client.\n-->\n\n<!-- -->\n<!doctype html>\n<html ⚡4email>\n<head>\n  <meta charset=\"utf-8\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <style amp4email-boilerplate>body{visibility:hidden}</style>\n  <!-- ## Setup -->\n  <!--\n    Additionally used AMP components must be imported in the header. We use\n    `amp-form` to submit bookmark requests to the server.\n  -->\n  <script async custom-element=\"amp-form\" src=\"https://cdn.ampproject.org/v0/amp-form-0.1.js\"></script>\n  <!--\n    We use `amp-mustache` to render the result of a form submission.\n  -->\n  <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n</head>\n<!-- ## Body -->\n<!-- -->\n<body>\n  <!--\n    We display a simple summary of the article in the email.\n  -->\n  <div>\n    <h1>Sample article</h1>\n    <p>This is a short summary of a sample article. The user can choose to continue reading on the website or bookmark it to their account for later.</p>\n  </div>\n  \n  <!--\n    We show a \"bookmark\" button under the article, which sends a bookmark request to the server asynchronously via `amp-form`.\n\n    Because there is no authentication for outgoing XHR calls from AMP email messages, all authentication should be done using access tokens.\n    In this example, this token is represented with `123abc`. In a real-life scenario, this hidden input field `auth_token` would contain a real server-side validated limited-use access token.\n  -->\n  <div>\n    <form action-xhr=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/article_bookmark_email/submit-form-bookmark\" method=\"post\">\n      <input type=\"hidden\"\n              name=\"id\"\n              value=\"ARTICLE_UNIQUE_ID\">\n      <input type=\"hidden\"\n              name=\"auth_token\"\n              value=\"123abc\">\n      <button type=\"submit\">\n        Bookmark\n      </button>\n      <div submit-success>\n        <template type=\"amp-mustache\">\n          {{result}}\n        </template>\n      </div>\n      <div submit-error>An error occurred.</div>\n    </form>\n  </div>\n</body>\n\n</html>","document":{"sections":[{"doc_":"","code":"\n","preview":"","inBody":false,"id":0,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\n## Introduction\n\nThis sample demonstrates how to let users perform an asynchronous action (bookmarking an article)\nin an AMP email.\n\nIt leverages the [`amp-form`](/documentation/components/amp-form) extension to\nsend a request to the server without the user leaving their e-mail client.\n\n","code":"\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\">This sample demonstrates how to let users perform an asynchronous action (bookmarking an article)\nin an AMP email.</p><p class=\"mb2 px1\">It leverages the <a href=\"/documentation/components/amp-form\"><code>amp-form</code></a> extension to\nsend a request to the server without the user leaving their e-mail client.</p>","isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Introduction\n\nThis sample demonstrates how to let users perform an asynchronous action (bookmarking an article)\nin an AMP email.\n\nIt leverages the [`amp-form`](/documentation/components/amp-form) extension to\nsend a request to the server without the user leaving their e-mail client.\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡4email>\n<head>\n  <meta charset=\"utf-8\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <style amp4email-boilerplate>body{visibility:hidden}</style>\n","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"\nAdditionally used AMP components must be imported in the header. We use\n`amp-form` to submit bookmark requests to the server.\n\n","code":"<script async custom-element=\"amp-form\" src=\"https://cdn.ampproject.org/v0/amp-form-0.1.js\"></script>\n","preview":"","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nAdditionally used AMP components must be imported in the header. We use\n`amp-form` to submit bookmark requests to the server.\n\n"},{"doc_":"\nWe use `amp-mustache` to render the result of a form submission.\n\n","code":"<script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n","preview":"","inBody":false,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nWe use `amp-mustache` to render the result of a form submission.\n\n"},{"doc_":"","code":"</head>\n","preview":"","inBody":false,"id":6,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Body\n","code":"","preview":"","inBody":false,"id":7,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"body","name":"Body"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Body\n"},{"doc_":"\n","code":"<body>\n","preview":"","inBody":false,"id":8,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"\nWe display a simple summary of the article in the email.\n\n","code":"<h1>Sample article</h1>\n<p>This is a short summary of a sample article. The user can choose to continue reading on the website or bookmark it to their account for later.</p>","preview":"  <div>\n    <h1>Sample article</h1>\n    <p>This is a short summary of a sample article. The user can choose to continue reading on the website or bookmark it to their account for later.</p>\n  </div>\n","inBody":true,"id":9,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nWe display a simple summary of the article in the email.\n\n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":10,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\nWe show a \"bookmark\" button under the article, which sends a bookmark request to the server asynchronously via `amp-form`.\n\nBecause there is no authentication for outgoing XHR calls from AMP email messages, all authentication should be done using access tokens.\nIn this example, this token is represented with `123abc`. In a real-life scenario, this hidden input field `auth_token` would contain a real server-side validated limited-use access token.\n\n","code":"<form action-xhr=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/article_bookmark_email/submit-form-bookmark\"\n  method=\"post\">\n  <input type=\"hidden\"\n    name=\"id\"\n    value=\"ARTICLE_UNIQUE_ID\">\n  <input type=\"hidden\"\n    name=\"auth_token\"\n    value=\"123abc\">\n  <button type=\"submit\">\n    Bookmark\n  </button>\n  <div submit-success>\n    <template type=\"amp-mustache\">\n      {{result}}\n    </template>\n  </div>\n  <div submit-error>An error occurred.</div>\n</form>","preview":"  <div>\n    <form action-xhr=\"http://localhost:8080/documentation/examples/interactivity-dynamic-content/article_bookmark_email/submit-form-bookmark\"\n      method=\"post\">\n      <input type=\"hidden\"\n        name=\"id\"\n        value=\"ARTICLE_UNIQUE_ID\">\n      <input type=\"hidden\"\n        name=\"auth_token\"\n        value=\"123abc\">\n      <button type=\"submit\">\n        Bookmark\n      </button>\n      <div submit-success>\n        <template type=\"amp-mustache\">\n          {{result}}\n        </template>\n      </div>\n      <div submit-error>An error occurred.</div>\n    </form>\n  </div>\n","inBody":true,"id":11,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nWe show a \"bookmark\" button under the article, which sends a bookmark request to the server asynchronously via `amp-form`.\n\nBecause there is no authentication for outgoing XHR calls from AMP email messages, all authentication should be done using access tokens.\nIn this example, this token is represented with `123abc`. In a real-life scenario, this hidden input field `auth_token` would contain a real server-side validated limited-use access token.\n\n"},{"doc_":"","code":"</body>\n\n</html>\n","preview":"","inBody":false,"id":12,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"  <meta charset=\"utf-8\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\"><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n  <script async custom-element=\"amp-form\" src=\"https://cdn.ampproject.org/v0/amp-form-0.1.js\"></script>\n  <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n","styles":"","title":"Article Bookmark Email","metadata":{"preview":"amp4email","skipValidation":"true"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":false,"isAmpAds":false,"isAmpEmail":true,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"This sample demonstrates how to let users perform an asynchronous action (bookmarking an article) in an AMP email."},"route":"/documentation/examples/interactivity-dynamic-content/article_bookmark_email/index.html"}