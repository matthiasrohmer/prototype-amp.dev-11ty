{"filePath":"examples/source/multimedia-animations/Custom_Loading_Indicators.html","source":"<!--\n  ## Introduction\n\n  While the AMP runtime fetches content from endpoints, it will display a loading indicator. This indicator is used by `amp-list`, `amp-iframe`, `amp-video`, and any other components that talk to an endpoint. While the loading indicator is not intended [yet](https://github.com/ampproject/amphtml/issues/4299) to be fully customizable, this sample shows how some custom styling can still be applied.\n--><!-- -->\n<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>Custom Loading Indicators</title>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/multimedia-animations/custom_loading_indicators/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <!-- ## Setup -->\n  <!-- We use `amp-list` to dynamically show the custom loading indicator. -->\n  <script async custom-element=\"amp-list\" src=\"https://cdn.ampproject.org/v0/amp-list-0.1.js\"></script>\n  <!--  We use `amp-mustache` as a template rendering engine for `amp-list`. -->\n  <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n  <!--  We use `amp-iframe` as an example for the default loading indicator. -->\n  <script async custom-element=\"amp-iframe\" src=\"https://cdn.ampproject.org/v0/amp-iframe-0.1.js\"></script>\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n  <!--\n    ## CSS for the custom loading indicator\n  -->\n  <!--\n    The loading indicator consists of three `div`s all within a `div.i-amphtml-loader`, which lastly is placed in a `div.i-amphtml-loading-container`.\n\n    We'll set up a 3D spinner instead (inspired by [tobiasahlin/spinkit](http://tobiasahlin.com/spinkit/)) for any loading indicators in elements with the class `custom-loader`. First we hide the dots, then we style their outer div with a CSS animation that resembles a square spinning in space. Since [`i-amp...` classes are not meant to be customized](/amp-dev/documentation/guides-and-tutorials/learn/spec/amphtml.md#class-and-tag-names), we'll target the `.amp-active` class that the runtime adds to the loader during its display.\n  -->\n  <style amp-custom>\n    amp-list, amp-iframe {\n      margin-left: 1em;\n    }\n\n    .custom-loader .amp-active {\n      max-width: 10%;\n      max-height: 50%;\n      width: 2em;\n      height: 2em;\n      background-color: #333;\n\n      margin: -1em auto;\n      animation: sk-rotateplane 1.2s infinite ease-in-out;\n    }\n    @keyframes sk-rotateplane {\n      0% { transform: perspective(120px); }\n      50% { transform: perspective(120px) rotateX(-180deg); }\n      100% { transform: perspective(120px) rotateX(-180deg) rotateY(-180deg); }\n    }\n    /* Hide the three default dots */\n    .custom-loader .amp-active > div {\n      display: none;\n    }\n\n  </style>\n</head>\n<body>\n\n<!-- ## Default loading indicator -->\n<!-- While loading content from an endpoint, the default loading indicator (three dots) will be displayed. This iframe takes 5 seconds to be returned by the slow-iframe endpoint. -->\n<amp-iframe title=\"Displays default loading indicator (three dots) for 5 seconds\" width=\"auto\" height=\"250\" layout=\"fixed-height\" frameborder=\"0\" src=\"/documentation/examples/api/slow-iframe/?delay=5000\">\n</amp-iframe>\n\n<!-- ## Displaying a loading indicator -->\n<!--\n  The `slow-json` endpoint returns a basic JSON response, with a configurable delay (10 seconds), in order to see the loading indicator.\n  Our custom loading indicator has a class of `custom-loader`.\n-->\n<amp-list class=\"custom-loader\" width=\"auto\" height=\"250\" layout=\"fixed-height\" src=\"/documentation/examples/api/slow-json/?delay=10000\" binding=\"no\">\n          <template type=\"amp-mustache\">\n            <div>\n              <p>{{title}}</p>\n            </div>\n          </template>\n</amp-list>\n</body></html>","document":{"sections":[{"doc_":"\n## Introduction\n\nWhile the AMP runtime fetches content from endpoints, it will display a loading indicator. This indicator is used by `amp-list`, `amp-iframe`, `amp-video`, and any other components that talk to an endpoint. While the loading indicator is not intended [yet](https://github.com/ampproject/amphtml/issues/4299) to be fully customizable, this sample shows how some custom styling can still be applied.\n\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\">While the AMP runtime fetches content from endpoints, it will display a loading indicator. This indicator is used by <code>amp-list</code>, <code>amp-iframe</code>, <code>amp-video</code>, and any other components that talk to an endpoint. While the loading indicator is not intended <a href=\"https://github.com/ampproject/amphtml/issues/4299\">yet</a> to be fully customizable, this sample shows how some custom styling can still be applied.</p>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Introduction\n\nWhile the AMP runtime fetches content from endpoints, it will display a loading indicator. This indicator is used by `amp-list`, `amp-iframe`, `amp-video`, and any other components that talk to an endpoint. While the loading indicator is not intended [yet](https://github.com/ampproject/amphtml/issues/4299) to be fully customizable, this sample shows how some custom styling can still be applied.\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>Custom Loading Indicators</title>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/multimedia-animations/custom_loading_indicators/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"We use `amp-list` to dynamically show the custom loading indicator. \n","code":"<script async custom-element=\"amp-list\" src=\"https://cdn.ampproject.org/v0/amp-list-0.1.js\"></script>\n","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"We use `amp-list` to dynamically show the custom loading indicator. \n"},{"doc_":"We use `amp-mustache` as a template rendering engine for `amp-list`. \n","code":"<script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n","preview":"","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"We use `amp-mustache` as a template rendering engine for `amp-list`. \n"},{"doc_":"We use `amp-iframe` as an example for the default loading indicator. \n","code":"<script async custom-element=\"amp-iframe\" src=\"https://cdn.ampproject.org/v0/amp-iframe-0.1.js\"></script>\n","preview":"","inBody":false,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"We use `amp-iframe` as an example for the default loading indicator. \n"},{"doc_":"","code":"<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n","preview":"","inBody":false,"id":6,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\n## CSS for the custom loading indicator\n\n","code":"","preview":"","inBody":false,"id":7,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"css-for-the-custom-loading-indicator","name":"CSS for the custom loading indicator"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## CSS for the custom loading indicator\n\n"},{"doc_":"\nThe loading indicator consists of three `div`s all within a `div.i-amphtml-loader`, which lastly is placed in a `div.i-amphtml-loading-container`.\n\nWe'll set up a 3D spinner instead (inspired by [tobiasahlin/spinkit](http://tobiasahlin.com/spinkit/)) for any loading indicators in elements with the class `custom-loader`. First we hide the dots, then we style their outer div with a CSS animation that resembles a square spinning in space. Since [`i-amp...` classes are not meant to be customized](/amp-dev/documentation/guides-and-tutorials/learn/spec/amphtml.md#class-and-tag-names), we'll target the `.amp-active` class that the runtime adds to the loader during its display.\n\n","code":"<style amp-custom>\n  amp-list, amp-iframe {\n    margin-left: 1em;\n  }\n\n  .custom-loader .amp-active {\n    max-width: 10%;\n    max-height: 50%;\n    width: 2em;\n    height: 2em;\n    background-color: #333;\n\n    margin: -1em auto;\n    animation: sk-rotateplane 1.2s infinite ease-in-out;\n  }\n  @keyframes sk-rotateplane {\n    0% { transform: perspective(120px); }\n    50% { transform: perspective(120px) rotateX(-180deg); }\n    100% { transform: perspective(120px) rotateX(-180deg) rotateY(-180deg); }\n  }\n  /* Hide the three default dots */\n  .custom-loader .amp-active > div {\n    display: none;\n  }\n\n</style>\n","preview":"","inBody":false,"id":8,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThe loading indicator consists of three `div`s all within a `div.i-amphtml-loader`, which lastly is placed in a `div.i-amphtml-loading-container`.\n\nWe'll set up a 3D spinner instead (inspired by [tobiasahlin/spinkit](http://tobiasahlin.com/spinkit/)) for any loading indicators in elements with the class `custom-loader`. First we hide the dots, then we style their outer div with a CSS animation that resembles a square spinning in space. Since [`i-amp...` classes are not meant to be customized](/amp-dev/documentation/guides-and-tutorials/learn/spec/amphtml.md#class-and-tag-names), we'll target the `.amp-active` class that the runtime adds to the loader during its display.\n\n"},{"doc_":"","code":"</head>\n<body>\n\n","preview":"\n","inBody":false,"id":9,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Default loading indicator\n","code":"","preview":"","inBody":true,"id":10,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"default-loading-indicator","name":"Default loading indicator"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Default loading indicator\n"},{"doc_":"While loading content from an endpoint, the default loading indicator (three dots) will be displayed. This iframe takes 5 seconds to be returned by the slow-iframe endpoint. \n","code":"<amp-iframe title=\"Displays default loading indicator (three dots) for 5 seconds\"\n  width=\"auto\"\n  height=\"250\"\n  layout=\"fixed-height\"\n  frameborder=\"0\"\n  src=\"/documentation/examples/api/slow-iframe/?delay=5000\">\n</amp-iframe>\n","preview":"  <amp-iframe title=\"Displays default loading indicator (three dots) for 5 seconds\"\n    width=\"auto\"\n    height=\"250\"\n    layout=\"fixed-height\"\n    frameborder=\"0\"\n    src=\"/documentation/examples/api/slow-iframe/?delay=5000\">\n  </amp-iframe>\n","inBody":true,"id":11,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"While loading content from an endpoint, the default loading indicator (three dots) will be displayed. This iframe takes 5 seconds to be returned by the slow-iframe endpoint. \n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":12,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Displaying a loading indicator\n","code":"","preview":"","inBody":true,"id":13,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"displaying-a-loading-indicator","name":"Displaying a loading indicator"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Displaying a loading indicator\n"},{"doc_":"\nThe `slow-json` endpoint returns a basic JSON response, with a configurable delay (10 seconds), in order to see the loading indicator.\nOur custom loading indicator has a class of `custom-loader`.\n\n","code":"<amp-list class=\"custom-loader\"\n  width=\"auto\"\n  height=\"250\"\n  layout=\"fixed-height\"\n  src=\"/documentation/examples/api/slow-json/?delay=10000\"\n  binding=\"no\">\n  <template type=\"amp-mustache\">\n    <div>\n      <p>{{title}}</p>\n    </div>\n  </template>\n</amp-list>\n","preview":"  <amp-list class=\"custom-loader\"\n    width=\"auto\"\n    height=\"250\"\n    layout=\"fixed-height\"\n    src=\"/documentation/examples/api/slow-json/?delay=10000\"\n    binding=\"no\">\n    <template type=\"amp-mustache\">\n      <div>\n        <p>{{title}}</p>\n      </div>\n    </template>\n  </amp-list>\n","inBody":true,"id":14,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThe `slow-json` endpoint returns a basic JSON response, with a configurable delay (10 seconds), in order to see the loading indicator.\nOur custom loading indicator has a class of `custom-loader`.\n\n"},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":15,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<meta charset=\"utf-8\">\n  <title>Custom Loading Indicators</title>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/multimedia-animations/custom_loading_indicators/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <script async custom-element=\"amp-list\" src=\"https://cdn.ampproject.org/v0/amp-list-0.1.js\"></script>\n  <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n  <script async custom-element=\"amp-iframe\" src=\"https://cdn.ampproject.org/v0/amp-iframe-0.1.js\"></script>\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n","styles":"    amp-list, amp-iframe {\n      margin-left: 1em;\n    }\n\n    .custom-loader .amp-active {\n      max-width: 10%;\n      max-height: 50%;\n      width: 2em;\n      height: 2em;\n      background-color: #333;\n\n      margin: -1em auto;\n      animation: sk-rotateplane 1.2s infinite ease-in-out;\n    }\n    @keyframes sk-rotateplane {\n      0% { transform: perspective(120px); }\n      50% { transform: perspective(120px) rotateX(-180deg); }\n      100% { transform: perspective(120px) rotateX(-180deg) rotateY(-180deg); }\n    }\n    /* Hide the three default dots */\n    .custom-loader .amp-active > div {\n      display: none;\n    }\n\n","title":"Custom Loading Indicators","metadata":{"preview":"default","author":"dandv"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":true,"isAmpAds":false,"isAmpEmail":false,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"While the AMP runtime fetches content from endpoints, it will display a loading indicator."},"route":"/documentation/examples/multimedia-animations/custom_loading_indicators/index.html"}