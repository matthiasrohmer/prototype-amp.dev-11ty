{"filePath":"examples/source/1.components/amp-list.html","source":"<!--\n  ## Introduction\n\n  The [`amp-list`](/amp-dev/documentation/components/reference/amp-list-v0.1.md) enables client-side rendering in AMP. Content can either be fetched from a JSON endpoint or locally from `amp-state`.\n--><!-- -->\n<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>amp-list</title>\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <!-- ## Setup -->\n  <!-- Import the `amp-list` component ... -->\n  <script async custom-element=\"amp-list\" src=\"https://cdn.ampproject.org/v0/amp-list-0.1.js\"></script>\n  <!-- ... and the `amp-mustache` component in the header. -->\n  <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n  <!-- Import the `amp-bind` component for dynamically changing the content of an `amp-list`. -->\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/components/amp-list/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n  <style amp-custom>\n   :root {\n     --space-1: 0.5rem;\n     --space-2: 1rem;\n     --color-bg-light: #FAFAFC;\n     --color-primary: #005AF0;\n     --color-text-light: #fff;\n     --box-shadow-1: 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 1px -1px rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n   }\n\n  /* Position the overflow button in the top right corner */\n  .list-overflow {\n    width: max-content;\n    margin: var(--space-1);\n    margin-left: auto;\n    padding: var(--space-1);\n    color: var(--color-text-light);\n    background-color: var(--color-primary);\n  }\n\n  .product {\n    height: 100px;\n    max-width: 400px;\n    box-shadow: var(--box-shadow-1);\n    background: var(--color-bg-light);\n    border-radius: 2px;\n    margin: var(--space-1);\n    display: flex;\n    align-items: center;\n  }\n\n  .product amp-img, .product .image-placeholder {\n    margin-right: var(--space-2);\n  }\n\n  .product .image-placeholder {\n    width: 150px;\n    height: 100px;\n    background-color: #999;\n  }\n  </style>\n</head>\n<body>\n\n  <!-- ## Basic usage -->\n  <!--\n  The `amp-list` content is provided by a JSON CORS endpoint, which is defined by the `src` attribute. The URL's protocol must be HTTPS. The response must be a JSON object containing an array property `items`, for example:\n  ```json\n  {\n    \"items\": [\n      {\n        \"title\": \"amp-carousel\",\n        \"url\": \"https://ampbyexample.com/components/amp-carousel\"\n      },\n      ...\n    ]\n  }\n  ```\n  The list content is rendered via an [amp-mustache template](/amp-dev/documentation/components/reference/amp-mustache-v0.2.md). The template can be specified either by id, or by using a nested element. For performance reasons, we're adding `binding=\"no\"` as we're not using `amp-bind`.\n  -->\n  <amp-list layout=\"fixed-height\" height=\"100\" src=\"/static/samples/json/examples.json\" binding=\"no\">\n    <template type=\"amp-mustache\">\n      <div><a href=\"{{url}}\">{{title}}</a></div>\n    </template>\n  </amp-list>\n\n  <!-- ## Re-using an existing template -->\n  <!--\nThe template can also be specified using an ID of an existing `template` element.\n  -->\n  <div>\n    <template type=\"amp-mustache\" id=\"amp-template-id\">\n      <div><a href=\"{{url}}\">{{title}}</a></div>\n    </template>\n    <amp-list layout=\"fixed-height\" height=\"100\" src=\"/static/samples/json/examples.json\" template=\"amp-template-id\" binding=\"no\">\n    </amp-list>\n  </div>\n\n  <!-- ## Handling list overflow -->\n  <!--\n   If the `amp-list` content requires more space than available, the AMP runtime will display the overflow element (if specified).\n  -->\n  <amp-list layout=\"fixed-height\" height=\"48\" src=\"/static/samples/json/examples.json\" binding=\"no\">\n    <div overflow role=\"button\" aria-label=\"Show more\" class=\"list-overflow\">\n      Show more\n    </div>\n    <template type=\"amp-mustache\">\n      <div><a href=\"{{url}}\">{{title}}</a></div>\n    </template>\n  </amp-list>\n\n  <!--\n    ## Dynamic `src`\n\n    The content of an `amp-list` can be changed dynamically by modifying it's `src` value using `amp-bind`.\n  -->\n  <div>\n    <amp-list layout=\"fixed-height\" height=\"100\" src=\"/static/samples/json/examples.json\" [src]=\"srcUrl\" binding=\"no\">\n      <template type=\"amp-mustache\">\n        <div><a href=\"{{url}}\">{{title}}</a></div>\n      </template>\n    </amp-list>\n    <button on=\"tap:AMP.setState({ srcUrl: '/static/samples/json/examples2.json' })\">Change source</button>\n  </div>\n\n  <!--\n    ## Rendering `amp-state`\n\n    This sample shows off once of `amp-list`'s most powerful features: being able to directly render objects from `amp-state`, This is possible by binding the results of an `amp-bind` expression to the `src` attribute: `[src]=\"items\"`. To make sure that the `amp-list` resizes accordingly, we dynamically calculate the `height` based on the number of list elements: `[height]=\"items.length * 22\"`. The initial state (an empty list) is defined in an `amp-state` element.\n\n    Important: `amp-bind` expressions are **not** evaluated on page load, but only after an user interaction has taken place. Initial `amp-list` content still needs to be fetched from a JSON endpoint.\n  -->\n  <div>\n    <amp-state id=\"items\">\n      <script type=\"application/json\">\n        []\n      </script>\n    </amp-state>\n    <amp-list layout=\"fixed-height\" height=\"0\" [src]=\"items\" [height]=\"items.length * 22\" single-item items=\".\" binding=\"no\">\n      <template type=\"amp-mustache\">\n        <div>{{ . }}</div>\n      </template>\n    </amp-list>\n    <button on=\"tap:AMP.setState({ items: items.splice(items.length, 0, 'item ' + items.length) })\">\n      Add item\n    </button>\n  </div>\n\n  <!--\n    ## Empty list content\n\n    If the list contains an empty array, you can use  [mustache inverted sections](https://github.com/janl/mustache.js) to print a message.\n\n    For this to work, we have to use the [`single-item` attribute](/amp-dev/documentation/components/reference/amp-list.md#single-item-(optional)) and [`items` attribute](/amp-dev/documentation/components/reference/amp-list.md#items-(optional)) to be able to access the root `items` array inside the template.\n  -->\n  <div>\n  <amp-list layout=\"fixed-height\" height=\"100\" src=\"/static/samples/json/examples-empty.json\" [src]=\"emptyListSampleSrc || '/static/samples/json/examples-empty.json'\" single-item items=\".\" reset-on-refresh binding=\"no\">\n    <template type=\"amp-mustache\">\n      {{#items}}\n        <div><a href=\"{{url}}\">{{title}}</a></div>\n      {{/items}}\n      {{^items}}\n        <div>No items founds.</div>\n      {{/items}}\n    </template>\n  </amp-list>\n  <button on=\"tap:AMP.setState({ emptyListSampleSrc: '/static/samples/json/examples.json' })\">\n    Add items\n  </button>\n  </div>\n\n  <!--\n    ## Using a placeholder\n\n    You can use a custom placeholder that looks similar to the rendered items to improve the user experience while the list is loading.\n    We are using an endpoint which intentionally delays the response by 10 seconds.\n  -->\n  <amp-list id=\"amp-list-placeholder\" noloading layout=\"fixed-height\" height=\"654\" src=\"/documentation/examples/api/slow-json-with-items/?delay=10000\" binding=\"no\">\n    <div placeholder>\n      <div class=\"product\">\n        <div class=\"image-placeholder\"></div>\n        <div>Loading...</div>\n      </div>\n      <div class=\"product\">\n        <div class=\"image-placeholder\"></div>\n        <div>Loading...</div>\n      </div>\n      <div class=\"product\">\n        <div class=\"image-placeholder\"></div>\n        <div>Loading...</div>\n      </div>\n    </div>\n    <template type=\"amp-mustache\">\n        <div class=\"product\">\n            <amp-img width=\"150\" height=\"100\" alt=\"{{name}}\" src=\"{{img}}\"></amp-img>\n            <div>\n              <div>{{name}}</div>\n              <div>{{{stars}}}</div>\n              <div>${{price}}</div>\n            </div>\n        </div>\n    </template>\n  </amp-list>\n\n  <!--\n    ## Triggering refresh\n\n    You can use the `refresh` action to trigger a refresh on `amp-list`. Notice how we are using `reset-on-refresh` attribute to ensure that the placeholder is reloaded.\n  -->\n  <div>\n  <button on=\"tap:myAmpList.refresh\">Refresh list</button>\n  <amp-list id=\"myAmpList\" reset-on-refresh layout=\"fixed-height\" height=\"600\" src=\"/documentation/examples/api/slow-json-with-items/?delay=1000\" binding=\"no\">\n    <template type=\"amp-mustache\">\n        <div class=\"product\">\n            <amp-img width=\"150\" height=\"100\" alt=\"{{name}}\" src=\"{{img}}\"></amp-img>\n            <div>\n              <div>{{name}}</div>\n              <div>{{{stars}}}</div>\n              <div>${{price}}</div>\n            </div>\n        </div>\n    </template>\n  </amp-list>\n  </div>\n</body></html>","document":{"sections":[{"doc_":"\n## Introduction\n\nThe [`amp-list`](/amp-dev/documentation/components/reference/amp-list-v0.1.md) enables client-side rendering in AMP. Content can either be fetched from a JSON endpoint or locally from `amp-state`.\n\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\">The <a href=\"/amp-dev/documentation/components/reference/amp-list-v0.1.md\"><code>amp-list</code></a> enables client-side rendering in AMP. Content can either be fetched from a JSON endpoint or locally from <code>amp-state</code>.</p>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Introduction\n\nThe [`amp-list`](/amp-dev/documentation/components/reference/amp-list-v0.1.md) enables client-side rendering in AMP. Content can either be fetched from a JSON endpoint or locally from `amp-state`.\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html ⚡>\n<head>\n<meta charset=\"utf-8\">\n  <title>amp-list</title>\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"Import the `amp-list` component ... \n","code":"<script async custom-element=\"amp-list\" src=\"https://cdn.ampproject.org/v0/amp-list-0.1.js\"></script>\n","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import the `amp-list` component ... \n"},{"doc_":"... and the `amp-mustache` component in the header. \n","code":"<script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n","preview":"","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"... and the `amp-mustache` component in the header. \n"},{"doc_":"Import the `amp-bind` component for dynamically changing the content of an `amp-list`. \n","code":"<script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n","preview":"","inBody":false,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import the `amp-bind` component for dynamically changing the content of an `amp-list`. \n"},{"doc_":"","code":"<link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/components/amp-list/index.html\">\n<meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n<style amp-custom>\n :root {\n   --space-1: 0.5rem;\n   --space-2: 1rem;\n   --color-bg-light: #FAFAFC;\n   --color-primary: #005AF0;\n   --color-text-light: #fff;\n   --box-shadow-1: 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 1px -1px rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n }\n\n/* Position the overflow button in the top right corner */\n.list-overflow {\n  width: max-content;\n  margin: var(--space-1);\n  margin-left: auto;\n  padding: var(--space-1);\n  color: var(--color-text-light);\n  background-color: var(--color-primary);\n}\n\n.product {\n  height: 100px;\n  max-width: 400px;\n  box-shadow: var(--box-shadow-1);\n  background: var(--color-bg-light);\n  border-radius: 2px;\n  margin: var(--space-1);\n  display: flex;\n  align-items: center;\n}\n\n.product amp-img, .product .image-placeholder {\n  margin-right: var(--space-2);\n}\n\n.product .image-placeholder {\n  width: 150px;\n  height: 100px;\n  background-color: #999;\n}\n</style>\n</head>\n<body>\n\n","preview":"\n","inBody":false,"id":6,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Basic usage\n","code":"","preview":"","inBody":true,"id":7,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"basic-usage","name":"Basic usage"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Basic usage\n"},{"doc_":"\nThe `amp-list` content is provided by a JSON CORS endpoint, which is defined by the `src` attribute. The URL's protocol must be HTTPS. The response must be a JSON object containing an array property `items`, for example:\n[sourcecode:json]\n{\n  \"items\": [\n    {\n      \"title\": \"amp-carousel\",\n      \"url\": \"https://ampbyexample.com/components/amp-carousel\"\n    },\n    ...\n  ]\n}\n[/sourcecode]\nThe list content is rendered via an [amp-mustache template](/amp-dev/documentation/components/reference/amp-mustache-v0.2.md). The template can be specified either by id, or by using a nested element. For performance reasons, we're adding `binding=\"no\"` as we're not using `amp-bind`.\n\n","code":"<amp-list layout=\"fixed-height\"\n  height=\"100\"\n  src=\"/static/samples/json/examples.json\"\n  binding=\"no\">\n  <template type=\"amp-mustache\">\n    <div><a href=\"{{url}}\">{{title}}</a></div>\n  </template>\n</amp-list>\n","preview":"  <amp-list layout=\"fixed-height\"\n    height=\"100\"\n    src=\"/static/samples/json/examples.json\"\n    binding=\"no\">\n    <template type=\"amp-mustache\">\n      <div><a href=\"{{url}}\">{{title}}</a></div>\n    </template>\n  </amp-list>\n","inBody":true,"id":8,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThe `amp-list` content is provided by a JSON CORS endpoint, which is defined by the `src` attribute. The URL's protocol must be HTTPS. The response must be a JSON object containing an array property `items`, for example:\n```json\n{\n  \"items\": [\n    {\n      \"title\": \"amp-carousel\",\n      \"url\": \"https://ampbyexample.com/components/amp-carousel\"\n    },\n    ...\n  ]\n}\n```\nThe list content is rendered via an [amp-mustache template](/amp-dev/documentation/components/reference/amp-mustache-v0.2.md). The template can be specified either by id, or by using a nested element. For performance reasons, we're adding `binding=\"no\"` as we're not using `amp-bind`.\n\n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":9,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Re-using an existing template\n","code":"","preview":"","inBody":true,"id":10,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"re-using-an-existing-template","name":"Re-using an existing template"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Re-using an existing template\n"},{"doc_":"\nThe template can also be specified using an ID of an existing `template` element.\n\n","code":"<template type=\"amp-mustache\"\n  id=\"amp-template-id\">\n  <div><a href=\"{{url}}\">{{title}}</a></div>\n</template>\n<amp-list layout=\"fixed-height\"\n  height=\"100\"\n  src=\"/static/samples/json/examples.json\"\n  template=\"amp-template-id\"\n  binding=\"no\">\n</amp-list>","preview":"  <div>\n    <template type=\"amp-mustache\"\n      id=\"amp-template-id\">\n      <div><a href=\"{{url}}\">{{title}}</a></div>\n    </template>\n    <amp-list layout=\"fixed-height\"\n      height=\"100\"\n      src=\"/static/samples/json/examples.json\"\n      template=\"amp-template-id\"\n      binding=\"no\">\n    </amp-list>\n  </div>\n\n","inBody":true,"id":11,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"  \nThe template can also be specified using an ID of an existing `template` element.\n  \n"},{"doc_":"## Handling list overflow\n","code":"","preview":"","inBody":true,"id":12,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"handling-list-overflow","name":"Handling list overflow"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Handling list overflow\n"},{"doc_":"\nIf the `amp-list` content requires more space than available, the AMP runtime will display the overflow element (if specified).\n\n","code":"<amp-list layout=\"fixed-height\"\n  height=\"48\"\n  src=\"/static/samples/json/examples.json\"\n  binding=\"no\">\n  <div overflow\n    role=\"button\"\n    aria-label=\"Show more\"\n    class=\"list-overflow\">\n    Show more\n  </div>\n  <template type=\"amp-mustache\">\n    <div><a href=\"{{url}}\">{{title}}</a></div>\n  </template>\n</amp-list>\n","preview":"  <amp-list layout=\"fixed-height\"\n    height=\"48\"\n    src=\"/static/samples/json/examples.json\"\n    binding=\"no\">\n    <div overflow\n      role=\"button\"\n      aria-label=\"Show more\"\n      class=\"list-overflow\">\n      Show more\n    </div>\n    <template type=\"amp-mustache\">\n      <div><a href=\"{{url}}\">{{title}}</a></div>\n    </template>\n  </amp-list>\n","inBody":true,"id":13,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nIf the `amp-list` content requires more space than available, the AMP runtime will display the overflow element (if specified).\n\n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":14,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\n## Dynamic `src`\n\nThe content of an `amp-list` can be changed dynamically by modifying it's `src` value using `amp-bind`.\n\n","code":"<amp-list layout=\"fixed-height\"\n  height=\"100\"\n  src=\"/static/samples/json/examples.json\"\n  [src]=\"srcUrl\"\n  binding=\"no\">\n  <template type=\"amp-mustache\">\n    <div><a href=\"{{url}}\">{{title}}</a></div>\n  </template>\n</amp-list>\n<button on=\"tap:AMP.setState({ srcUrl: '/static/samples/json/examples2.json' })\">Change source</button>","preview":"  <div>\n    <amp-list layout=\"fixed-height\"\n      height=\"100\"\n      src=\"/static/samples/json/examples.json\"\n      [src]=\"srcUrl\"\n      binding=\"no\">\n      <template type=\"amp-mustache\">\n        <div><a href=\"{{url}}\">{{title}}</a></div>\n      </template>\n    </amp-list>\n    <button on=\"tap:AMP.setState({ srcUrl: '/static/samples/json/examples2.json' })\">Change source</button>\n  </div>\n\n","inBody":true,"id":15,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[{"id":"dynamic-src","name":"Dynamic src"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Dynamic `src`\n\nThe content of an `amp-list` can be changed dynamically by modifying it's `src` value using `amp-bind`.\n\n"},{"doc_":"\n## Rendering `amp-state`\n\nThis sample shows off once of `amp-list`'s most powerful features: being able to directly render objects from `amp-state`, This is possible by binding the results of an `amp-bind` expression to the `src` attribute: `[src]=\"items\"`. To make sure that the `amp-list` resizes accordingly, we dynamically calculate the `height` based on the number of list elements: `[height]=\"items.length * 22\"`. The initial state (an empty list) is defined in an `amp-state` element.\n\nImportant: `amp-bind` expressions are **not** evaluated on page load, but only after an user interaction has taken place. Initial `amp-list` content still needs to be fetched from a JSON endpoint.\n\n","code":"<amp-state id=\"items\">\n  <script type=\"application/json\">\n    []\n  </script>\n</amp-state>\n<amp-list layout=\"fixed-height\"\n  height=\"0\"\n  [src]=\"items\"\n  [height]=\"items.length * 22\"\n  single-item\n  items=\".\"\n  binding=\"no\">\n  <template type=\"amp-mustache\">\n    <div>{{ . }}</div>\n  </template>\n</amp-list>\n<button on=\"tap:AMP.setState({ items: items.splice(items.length, 0, 'item ' + items.length) })\">\n  Add item\n</button>","preview":"  <div>\n    <amp-state id=\"items\">\n      <script type=\"application/json\">\n        []\n      </script>\n    </amp-state>\n    <amp-list layout=\"fixed-height\"\n      height=\"0\"\n      [src]=\"items\"\n      [height]=\"items.length * 22\"\n      single-item\n      items=\".\"\n      binding=\"no\">\n      <template type=\"amp-mustache\">\n        <div>{{ . }}</div>\n      </template>\n    </amp-list>\n    <button on=\"tap:AMP.setState({ items: items.splice(items.length, 0, 'item ' + items.length) })\">\n      Add item\n    </button>\n  </div>\n","inBody":true,"id":16,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[{"id":"rendering-amp-state","name":"Rendering amp-state"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Rendering `amp-state`\n\nThis sample shows off once of `amp-list`'s most powerful features: being able to directly render objects from `amp-state`, This is possible by binding the results of an `amp-bind` expression to the `src` attribute: `[src]=\"items\"`. To make sure that the `amp-list` resizes accordingly, we dynamically calculate the `height` based on the number of list elements: `[height]=\"items.length * 22\"`. The initial state (an empty list) is defined in an `amp-state` element.\n\nImportant: `amp-bind` expressions are **not** evaluated on page load, but only after an user interaction has taken place. Initial `amp-list` content still needs to be fetched from a JSON endpoint.\n\n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":17,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\n## Empty list content\n\nIf the list contains an empty array, you can use  [mustache inverted sections](https://github.com/janl/mustache.js) to print a message.\n\nFor this to work, we have to use the [`single-item` attribute](/amp-dev/documentation/components/reference/amp-list.md#single-item-(optional)) and [`items` attribute](/amp-dev/documentation/components/reference/amp-list.md#items-(optional)) to be able to access the root `items` array inside the template.\n\n","code":"<amp-list layout=\"fixed-height\"\n  height=\"100\"\n  src=\"/static/samples/json/examples-empty.json\"\n  [src]=\"emptyListSampleSrc || '/static/samples/json/examples-empty.json'\"\n  single-item\n  items=\".\"\n  reset-on-refresh\n  binding=\"no\">\n  <template type=\"amp-mustache\">\n    {{#items}}\n      <div><a href=\"{{url}}\">{{title}}</a></div>\n    {{/items}}\n    {{^items}}\n      <div>No items founds.</div>\n    {{/items}}\n  </template>\n</amp-list>\n<button on=\"tap:AMP.setState({ emptyListSampleSrc: '/static/samples/json/examples.json' })\">\n  Add items\n</button>","preview":"  <div>\n    <amp-list layout=\"fixed-height\"\n      height=\"100\"\n      src=\"/static/samples/json/examples-empty.json\"\n      [src]=\"emptyListSampleSrc || '/static/samples/json/examples-empty.json'\"\n      single-item\n      items=\".\"\n      reset-on-refresh\n      binding=\"no\">\n      <template type=\"amp-mustache\">\n        {{#items}}\n          <div><a href=\"{{url}}\">{{title}}</a></div>\n        {{/items}}\n        {{^items}}\n          <div>No items founds.</div>\n        {{/items}}\n      </template>\n    </amp-list>\n    <button on=\"tap:AMP.setState({ emptyListSampleSrc: '/static/samples/json/examples.json' })\">\n      Add items\n    </button>\n  </div>\n\n","inBody":true,"id":18,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[{"id":"empty-list-content","name":"Empty list content"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Empty list content\n\nIf the list contains an empty array, you can use  [mustache inverted sections](https://github.com/janl/mustache.js) to print a message.\n\nFor this to work, we have to use the [`single-item` attribute](/amp-dev/documentation/components/reference/amp-list.md#single-item-(optional)) and [`items` attribute](/amp-dev/documentation/components/reference/amp-list.md#items-(optional)) to be able to access the root `items` array inside the template.\n\n"},{"doc_":"\n## Using a placeholder\n\nYou can use a custom placeholder that looks similar to the rendered items to improve the user experience while the list is loading.\nWe are using an endpoint which intentionally delays the response by 10 seconds.\n\n","code":"<amp-list id=\"amp-list-placeholder\"\n  noloading\n  layout=\"fixed-height\"\n  height=\"654\"\n  src=\"/documentation/examples/api/slow-json-with-items/?delay=10000\"\n  binding=\"no\">\n  <div placeholder>\n    <div class=\"product\">\n      <div class=\"image-placeholder\"></div>\n      <div>Loading...</div>\n    </div>\n    <div class=\"product\">\n      <div class=\"image-placeholder\"></div>\n      <div>Loading...</div>\n    </div>\n    <div class=\"product\">\n      <div class=\"image-placeholder\"></div>\n      <div>Loading...</div>\n    </div>\n  </div>\n  <template type=\"amp-mustache\">\n    <div class=\"product\">\n      <amp-img width=\"150\"\n        height=\"100\"\n        alt=\"{{name}}\"\n        src=\"{{img}}\"></amp-img>\n      <div>\n        <div>{{name}}</div>\n        <div>{{{stars}}}</div>\n        <div>${{price}}</div>\n      </div>\n    </div>\n  </template>\n</amp-list>\n","preview":"  <amp-list id=\"amp-list-placeholder\"\n    noloading\n    layout=\"fixed-height\"\n    height=\"654\"\n    src=\"/documentation/examples/api/slow-json-with-items/?delay=10000\"\n    binding=\"no\">\n    <div placeholder>\n      <div class=\"product\">\n        <div class=\"image-placeholder\"></div>\n        <div>Loading...</div>\n      </div>\n      <div class=\"product\">\n        <div class=\"image-placeholder\"></div>\n        <div>Loading...</div>\n      </div>\n      <div class=\"product\">\n        <div class=\"image-placeholder\"></div>\n        <div>Loading...</div>\n      </div>\n    </div>\n    <template type=\"amp-mustache\">\n      <div class=\"product\">\n        <amp-img width=\"150\"\n          height=\"100\"\n          alt=\"{{name}}\"\n          src=\"{{img}}\"></amp-img>\n        <div>\n          <div>{{name}}</div>\n          <div>{{{stars}}}</div>\n          <div>${{price}}</div>\n        </div>\n      </div>\n    </template>\n  </amp-list>\n","inBody":true,"id":19,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[{"id":"using-a-placeholder","name":"Using a placeholder"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Using a placeholder\n\nYou can use a custom placeholder that looks similar to the rendered items to improve the user experience while the list is loading.\nWe are using an endpoint which intentionally delays the response by 10 seconds.\n\n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":20,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\n## Triggering refresh\n\nYou can use the `refresh` action to trigger a refresh on `amp-list`. Notice how we are using `reset-on-refresh` attribute to ensure that the placeholder is reloaded.\n\n","code":"<button on=\"tap:myAmpList.refresh\">Refresh list</button>\n<amp-list id=\"myAmpList\"\n  reset-on-refresh\n  layout=\"fixed-height\"\n  height=\"600\"\n  src=\"/documentation/examples/api/slow-json-with-items/?delay=1000\"\n  binding=\"no\">\n  <template type=\"amp-mustache\">\n    <div class=\"product\">\n      <amp-img width=\"150\"\n        height=\"100\"\n        alt=\"{{name}}\"\n        src=\"{{img}}\"></amp-img>\n      <div>\n        <div>{{name}}</div>\n        <div>{{{stars}}}</div>\n        <div>${{price}}</div>\n      </div>\n    </div>\n  </template>\n</amp-list>","preview":"  <div>\n    <button on=\"tap:myAmpList.refresh\">Refresh list</button>\n    <amp-list id=\"myAmpList\"\n      reset-on-refresh\n      layout=\"fixed-height\"\n      height=\"600\"\n      src=\"/documentation/examples/api/slow-json-with-items/?delay=1000\"\n      binding=\"no\">\n      <template type=\"amp-mustache\">\n        <div class=\"product\">\n          <amp-img width=\"150\"\n            height=\"100\"\n            alt=\"{{name}}\"\n            src=\"{{img}}\"></amp-img>\n          <div>\n            <div>{{name}}</div>\n            <div>{{{stars}}}</div>\n            <div>${{price}}</div>\n          </div>\n        </div>\n      </template>\n    </amp-list>\n  </div>\n","inBody":true,"id":21,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[{"id":"triggering-refresh","name":"Triggering refresh"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Triggering refresh\n\nYou can use the `refresh` action to trigger a refresh on `amp-list`. Notice how we are using `reset-on-refresh` attribute to ensure that the placeholder is reloaded.\n\n"},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":22,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<meta charset=\"utf-8\">\n  <title>amp-list</title>\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <script async custom-element=\"amp-list\" src=\"https://cdn.ampproject.org/v0/amp-list-0.1.js\"></script>\n  <script async custom-template=\"amp-mustache\" src=\"https://cdn.ampproject.org/v0/amp-mustache-0.2.js\"></script>\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/components/amp-list/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n","styles":"   :root {\n     --space-1: 0.5rem;\n     --space-2: 1rem;\n     --color-bg-light: #FAFAFC;\n     --color-primary: #005AF0;\n     --color-text-light: #fff;\n     --box-shadow-1: 0 1px 1px 0 rgba(0,0,0,.14), 0 1px 1px -1px rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);\n   }\n\n  /* Position the overflow button in the top right corner */\n  .list-overflow {\n    width: max-content;\n    margin: var(--space-1);\n    margin-left: auto;\n    padding: var(--space-1);\n    color: var(--color-text-light);\n    background-color: var(--color-primary);\n  }\n\n  .product {\n    height: 100px;\n    max-width: 400px;\n    box-shadow: var(--box-shadow-1);\n    background: var(--color-bg-light);\n    border-radius: 2px;\n    margin: var(--space-1);\n    display: flex;\n    align-items: center;\n  }\n\n  .product amp-img, .product .image-placeholder {\n    margin-right: var(--space-2);\n  }\n\n  .product .image-placeholder {\n    width: 150px;\n    height: 100px;\n    background-color: #999;\n  }\n","title":"amp-list","metadata":{"author":"kul3r4"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":true,"isAmpAds":false,"isAmpEmail":false,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"The amp-list enables client-side rendering in AMP."},"route":"/documentation/examples/components/amp-list/index.html"}