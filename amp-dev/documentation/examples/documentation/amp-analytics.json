{"filePath":"examples/source/1.components/amp-analytics/index.html","source":"<!--\n  ## Introduction\n\nThe `amp-analytics` element can be used to measure activity on an AMP document. Currently, `amp-analytics` supports different kinds of events:\n\n* Pageview\n* Anchor Clicks\n* Timer\n* Scrolling\n* AMP Carousel changes\n* Form\n\nThis sample demonstrates which events can be measured and how they can be configured. For a complete overview of all available options and parameters, have a look at the [official documentation](/content/amp-dev/documentation/components/reference/amp-analytics-v0.1.md).\n--><!-- -->\n<!doctype html>\n<html âš¡>\n<head>\n<meta charset=\"utf-8\">\n  <title>amp-analytics</title>\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <!-- ## Setup -->\n  <!--  Import the `amp-analytics` component in the header. -->\n  <script async custom-element=\"amp-analytics\" src=\"https://cdn.ampproject.org/v0/amp-analytics-0.1.js\"></script>\n  <script async custom-element=\"amp-carousel\" src=\"https://cdn.ampproject.org/v0/amp-carousel-0.1.js\"></script>\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n  <script async custom-element=\"amp-form\" src=\"https://cdn.ampproject.org/v0/amp-form-0.1.js\"></script>\n  <!--\n    We need `amp-iframe` to embed an analytics dashboard.\n  -->\n  <script async custom-element=\"amp-iframe\" src=\"https://cdn.ampproject.org/v0/amp-iframe-0.1.js\"></script>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/components/amp-analytics/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n  <style amp-custom>\n    :root {\n      --color-text-light: #fff;\n      --space-2: 1rem;  /* 16px */\n    }\n    .fixed-dashboard {\n        background-color: #e0e0e0;\n        position: fixed;\n        bottom: 0;\n        right: 0;\n        width: 100%;\n        z-index: 100;\n        margin: var(--space-2);\n        box-shadow:0 1px 1px 0 rgba(0,0,0,.14),0 1px 1px -1px rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);\n    }\n    amp-carousel .slide {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 20px;\n      background: green;\n      color: var(--color-text-light);\n    }\n    </style>\n</head>\n<body>\n  <!-- &nbsp; -->\n  <amp-iframe class=\"fixed-dashboard\" width=\"200\" height=\"240\" layout=\"fixed\" sandbox=\"allow-scripts\" frameborder=\"0\" src=\"http://localhost:8080/documentation/examples/components/amp-analytics/embed?test=1&user=[= user =]&account=ampdev\">\n    <amp-img src=\"/static/samples/img/pixel-white.png\" layout=\"fixed-height\" height=\"350\" width=\"auto\" placeholder>\n    </amp-img>\n  </amp-iframe>\n\n  <!--\n    ## Pageview\n  -->\n  <!--\n    This is a simple `amp-analytics` configuration to fire a single request when the page becomes visible. Note how we declare a variable `eventId` in the request and define the concrete value in the `vars` block.\n\n    **Important: ** amp-analytics should be configured in the document body.\n  -->\n  <amp-analytics>\n  <script type=\"application/json\">\n  {\n    \"requests\": {\n      \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n    },\n    \"triggers\": {\n      \"trackPageview\": {\n        \"on\": \"visible\",\n        \"request\": \"event\",\n        \"vars\": {\n          \"eventId\": \"pageview\"\n        }\n      }\n    }\n  }\n  </script>\n  </amp-analytics>\n  <!-- ## UI elements appearance tracking -->\n  <!--\n    This is a more sophisticated view tracking. This sample fires an analytics request when a specific element becomes visible. The element is specified via `id` and must be an AMP element (amp-img, amp-iframe, amp-ad,...).\n  -->\n  <amp-analytics>\n  <script type=\"application/json\">\n  {\n    \"requests\": {\n      \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n    },\n    \"triggers\": {\n      \"trackPageview\": {\n        \"on\": \"visible\",\n        \"request\": \"event\",\n        \"visibilitySpec\": {\n          \"selector\": \"#cat-image-id\",\n          \"visiblePercentageMin\": 20,\n          \"totalTimeMin\": 500,\n          \"continuousTimeMin\": 200\n        },\n        \"vars\": {\n          \"eventId\": \"catview\"\n        }\n      }\n    }\n  }\n  </script>\n  </amp-analytics>\n\n  <!--\n    This image will trigger an analytics request, if at least 20% of it are visible for 500ms with a minimum time of 200ms continuous visibility.\n  -->\n  <amp-img id=\"cat-image-id\" src=\"/static/samples/img/cat-looking-up-300x200.jpg\" width=\"300\" height=\"200\" attribution=\"visualhunt\" alt=\"a cat\" layout=\"responsive\"></amp-img>\n\n  <!--\n    This sample fires an analytics request when the image becomes visible as a result of an action.\n      -->\n      <div>\n          <button on=\"tap:an-image.toggleVisibility\">\n             Toggle image\n          </button>\n          <amp-img hidden id=\"an-image\" src=\"/static/samples/img/amp.jpg\" width=\"1080\" height=\"610\" layout=\"responsive\" alt=\"AMP\">\n          </amp-img>\n      </div>\n      <!--\n    The `elementShown` event is issued when the image becomes visible -->\n  <amp-analytics>\n      <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"elementShown\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"defaultPageview\": {\n            \"on\": \"visible\",\n            \"request\": \"elementShown\",\n            \"selector\": \"#an-image\",\n            \"vars\": {\n              \"eventId\": \"imageShownAfterButtonClick\"\n            }\n          }\n        }\n      }\n      </script>\n      </amp-analytics>\n\n  <!-- ## Anchor click -->\n  <!--\n    User interactions can be tracked as well. This configuration will track clicks on any anchor links in the page.\n  -->\n  <amp-analytics>\n  <script type=\"application/json\">\n  {\n    \"requests\": {\n      \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n    },\n    \"triggers\": {\n      \"trackAnchorClicks\": {\n        \"on\": \"click\",\n        \"selector\": \"a\",\n        \"request\": \"event\",\n        \"vars\": {\n          \"eventId\": \"clickOnAnyAnchor\"\n        }\n      }\n    }\n  }\n  </script>\n  </amp-analytics>\n\n  <!-- Try it by clicking one of the links. -->\n  <ul>\n    <li><a>a link</a></li>\n    <li><a>another link</a></li>\n  </ul>\n\n  <!--\n  It is also possible to fire click events only for specific links. Select specific elements to tracking by specifying a `selector` id. This sample only tracks clicks on anchors with the id `anchor-id`.\n  -->\n  <amp-analytics>\n    <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"trackAnchorClicks\": {\n          \"on\": \"click\",\n          \"selector\": \"#anchor-id\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"clickOnSpecialAnchor\"\n          }\n        }\n      }\n    }\n    </script>\n  </amp-analytics>\n  <!--  Only one of these links will trigger the `clickOnSpecialAnchor` event. -->\n  <ul>\n    <li><a id=\"anchor-id\">a special link</a>.</li>\n    <li><a id=\"another-anchor-id\">a not so special link</a>.</li>\n  </ul>\n\n  <!-- ## Scroll event -->\n  <!-- Use scroll events to fire a request under certain conditions when the page is scrolled. -->\n  <amp-analytics>\n    <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"scrollPings\": {\n          \"on\": \"scroll\",\n          \"scrollSpec\": {\n            \"verticalBoundaries\": [10, 20, 30, 40, 50, 60, 70, 80, 90]\n          },\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"scroll\"\n          }\n        }\n      }\n    }\n    </script>\n  </amp-analytics>\n  <!-- ## Timer -->\n  <!--\n  Timer events fire in the specified interval.\n  -->\n  <amp-analytics>\n    <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"pageTimer\": {\n          \"on\": \"timer\",\n          \"timerSpec\": {\n            \"interval\": 10,\n            \"maxTimerLength\": 600\n          },\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"timer\"\n          }\n        }\n      }\n    }\n    </script>\n  </amp-analytics>\n  <!-- ## AMP Carousel Tracking-->\n  <!--\n It is possible to track [amp-carousel](/content/amp-dev/documentation/components/reference/amp-carousel-v0.2.md) events with amp-analytics (this works only for  `type=\"slides\"`). Here is a sample carousel:\n  -->\n  <amp-carousel width=\"400\" height=\"300\" layout=\"responsive\" type=\"slides\">\n    <div class=\"slide\" data-slide-id=\"slide1\">Slide 1</div>\n    <div class=\"slide\" data-slide-id=\"slide2\">Slide 2</div>\n    <div class=\"slide\">Slide 3</div>\n  </amp-carousel>\n\n  <!--\nYou can use the `fromSlide` and `toSlide` [variables](https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/analytics-vars.md) for tracking which slides are viewed. The value is either taken from the `data-slide-id` attribute of the slide when present, else it represents the index of the slide (starting from 0).\n  -->\n  <!--\nThe `amp-carousel-change` event is issued when there is any change in the slide that is currently visible:\n  -->\n  <amp-analytics>\n    <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"ampCarouselChange\": {\n          \"on\": \"amp-carousel-change\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"carousel-change-${toSlide}\"\n          }\n        }\n      }\n    }\n    </script>\n  </amp-analytics>\n  <!--\nThe `amp-carousel-next` event is issued when there is a traversal to the next slide:\n  -->\n  <amp-analytics>\n    <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"ampCarouselNext\": {\n          \"on\": \"amp-carousel-next\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"carousel-next-${toSlide}\"\n          }\n        }\n      }\n    }\n    </script>\n  </amp-analytics>\n  <!--\nThe `amp-carousel-prev` event is issued when there is a traversal to the previous slide: -->\n  <amp-analytics>\n    <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"ampCarouselPrev\": {\n          \"on\": \"amp-carousel-prev\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"carousel-prev-${fromSlide}\"\n          }\n        }\n      }\n    }\n    </script>\n  </amp-analytics>\n  <!-- ## Form -->\n  <!-- You can track events triggered by `amp-form`. Find a list of supported event [here](/content/amp-dev/documentation/components/reference/amp-form.md#analytics-triggers). -->\n  <div>\n    <amp-analytics>\n      <script type=\"application/json\">\n        {\n          \"requests\": {\n            \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n          },\n          \"triggers\": {\n            \"formSubmit\": {\n              \"on\": \"amp-form-submit\",\n              \"request\": \"event\",\n              \"selector\":\"#testForm\",\n              \"vars\": {\n                \"eventId\": \"form-submit\"\n              }\n            },\n            \"formSubmitSuccess\": {\n              \"on\": \"amp-form-submit-success\",\n              \"request\": \"event\",\n              \"selector\":\"#testForm\",\n              \"vars\": {\n                \"eventId\": \"form-submit-success\"\n              }\n            },\n            \"formSubmitError\": {\n              \"on\": \"amp-form-submit-error\",\n              \"request\": \"event\",\n              \"selector\":\"#testForm\",\n              \"vars\": {\n                \"eventId\": \"form-submit-error\"\n              }\n            }\n          }\n        }\n      </script>\n    </amp-analytics>\n    <p>Try to insert any name as a name input in the form to see the <code>amp-form-submit-success</code> event.</p>\n    <p>Try to insert the word \"error\" as a name input in the form to see the <code>amp-form-submit-error</code> event.</p>\n    <form id=\"testForm\" method=\"post\" action-xhr=\"/documentation/examples/api/submit-form-input-text-xhr\" target=\"_top\">\n      <input type=\"text\" name=\"name\" placeholder=\"Name...\" required>\n      <input type=\"submit\" value=\"Subscribe\">\n    </form>\n  </div>\n</body></html>","document":{"sections":[{"doc_":"\n## Introduction\n\nThe `amp-analytics` element can be used to measure activity on an AMP document. Currently, `amp-analytics` supports different kinds of events:\n\n* Pageview\n* Anchor Clicks\n* Timer\n* Scrolling\n* AMP Carousel changes\n* Form\n\nThis sample demonstrates which events can be measured and how they can be configured. For a complete overview of all available options and parameters, have a look at the [official documentation](/content/amp-dev/documentation/components/reference/amp-analytics-v0.1.md).\n\n","code":"","preview":"","inBody":false,"id":0,"cachedMarkedDoc":"<h2 id=\"introduction\" class=\"www-heading pb4 mb2 relative h3\">Introduction</h2><p class=\"mb2 px1\">The <code>amp-analytics</code> element can be used to measure activity on an AMP document. Currently, <code>amp-analytics</code> supports different kinds of events:</p><ul>\n<li>Pageview</li>\n<li>Anchor Clicks</li>\n<li>Timer</li>\n<li>Scrolling</li>\n<li>AMP Carousel changes</li>\n<li>Form</li>\n</ul>\n<p class=\"mb2 px1\">This sample demonstrates which events can be measured and how they can be configured. For a complete overview of all available options and parameters, have a look at the <a href=\"/content/amp-dev/documentation/components/reference/amp-analytics-v0.1.md\">official documentation</a>.</p>","isLastSection":false,"isFirstSection":true,"commentOffset":0,"codeOffset":0,"headings":[{"id":"introduction","name":"Introduction"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Introduction\n\nThe `amp-analytics` element can be used to measure activity on an AMP document. Currently, `amp-analytics` supports different kinds of events:\n\n* Pageview\n* Anchor Clicks\n* Timer\n* Scrolling\n* AMP Carousel changes\n* Form\n\nThis sample demonstrates which events can be measured and how they can be configured. For a complete overview of all available options and parameters, have a look at the [official documentation](/content/amp-dev/documentation/components/reference/amp-analytics-v0.1.md).\n\n"},{"doc_":"\n","code":"<!doctype html>\n<html âš¡>\n<head>\n<meta charset=\"utf-8\">\n  <title>amp-analytics</title>\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n","preview":"","inBody":false,"id":1,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \n"},{"doc_":"## Setup\n","code":"","preview":"","inBody":false,"id":2,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"setup","name":"Setup"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Setup\n"},{"doc_":"Import the `amp-analytics` component in the header. \n","code":"<script async custom-element=\"amp-analytics\" src=\"https://cdn.ampproject.org/v0/amp-analytics-0.1.js\"></script>\n","preview":"","inBody":false,"id":3,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Import the `amp-analytics` component in the header. \n"},{"doc_":"","code":"<script async custom-element=\"amp-carousel\" src=\"https://cdn.ampproject.org/v0/amp-carousel-0.1.js\"></script>\n<script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n<script async custom-element=\"amp-form\" src=\"https://cdn.ampproject.org/v0/amp-form-0.1.js\"></script>\n","preview":"","inBody":false,"id":4,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\nWe need `amp-iframe` to embed an analytics dashboard.\n\n","code":"<script async custom-element=\"amp-iframe\" src=\"https://cdn.ampproject.org/v0/amp-iframe-0.1.js\"></script>\n","preview":"","inBody":false,"id":5,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nWe need `amp-iframe` to embed an analytics dashboard.\n\n"},{"doc_":"","code":"<link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/components/amp-analytics/index.html\">\n<meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n<style amp-custom>\n  :root {\n    --color-text-light: #fff;\n    --space-2: 1rem;  /* 16px */\n  }\n  .fixed-dashboard {\n      background-color: #e0e0e0;\n      position: fixed;\n      bottom: 0;\n      right: 0;\n      width: 100%;\n      z-index: 100;\n      margin: var(--space-2);\n      box-shadow:0 1px 1px 0 rgba(0,0,0,.14),0 1px 1px -1px rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);\n  }\n  amp-carousel .slide {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 20px;\n    background: green;\n    color: var(--color-text-light);\n  }\n  </style>\n</head>\n<body>\n","preview":"","inBody":false,"id":6,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"&nbsp; \n","code":"<amp-iframe class=\"fixed-dashboard\"\n  width=\"200\"\n  height=\"240\"\n  layout=\"fixed\"\n  sandbox=\"allow-scripts\"\n  frameborder=\"0\"\n  src=\"http://localhost:8080/documentation/examples/components/amp-analytics/embed?test=1&user=[= user =]&account=ampdev\">\n  <amp-img src=\"/static/samples/img/pixel-white.png\"\n    layout=\"fixed-height\"\n    height=\"350\"\n    width=\"auto\"\n    placeholder>\n  </amp-img>\n</amp-iframe>\n","preview":"  <amp-iframe class=\"fixed-dashboard\"\n    width=\"200\"\n    height=\"240\"\n    layout=\"fixed\"\n    sandbox=\"allow-scripts\"\n    frameborder=\"0\"\n    src=\"http://localhost:8080/documentation/examples/components/amp-analytics/embed?test=1&user=[= user =]&account=ampdev\">\n    <amp-img src=\"/static/samples/img/pixel-white.png\"\n      layout=\"fixed-height\"\n      height=\"350\"\n      width=\"auto\"\n      placeholder>\n    </amp-img>\n  </amp-iframe>\n","inBody":true,"id":7,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"&nbsp; \n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":8,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\n## Pageview\n\n","code":"","preview":"","inBody":true,"id":9,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"pageview","name":"Pageview"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\n## Pageview\n\n"},{"doc_":"\nThis is a simple `amp-analytics` configuration to fire a single request when the page becomes visible. Note how we declare a variable `eventId` in the request and define the concrete value in the `vars` block.\n\n**Important: ** amp-analytics should be configured in the document body.\n\n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"trackPageview\": {\n          \"on\": \"visible\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"pageview\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"trackPageview\": {\n            \"on\": \"visible\",\n            \"request\": \"event\",\n            \"vars\": {\n              \"eventId\": \"pageview\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":10,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThis is a simple `amp-analytics` configuration to fire a single request when the page becomes visible. Note how we declare a variable `eventId` in the request and define the concrete value in the `vars` block.\n\n**Important: ** amp-analytics should be configured in the document body.\n\n"},{"doc_":"## UI elements appearance tracking\n","code":"","preview":"","inBody":true,"id":11,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"ui-elements-appearance-tracking","name":"UI elements appearance tracking"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## UI elements appearance tracking\n"},{"doc_":"\nThis is a more sophisticated view tracking. This sample fires an analytics request when a specific element becomes visible. The element is specified via `id` and must be an AMP element (amp-img, amp-iframe, amp-ad,...).\n\n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"trackPageview\": {\n          \"on\": \"visible\",\n          \"request\": \"event\",\n          \"visibilitySpec\": {\n            \"selector\": \"#cat-image-id\",\n            \"visiblePercentageMin\": 20,\n            \"totalTimeMin\": 500,\n            \"continuousTimeMin\": 200\n          },\n          \"vars\": {\n            \"eventId\": \"catview\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"trackPageview\": {\n            \"on\": \"visible\",\n            \"request\": \"event\",\n            \"visibilitySpec\": {\n              \"selector\": \"#cat-image-id\",\n              \"visiblePercentageMin\": 20,\n              \"totalTimeMin\": 500,\n              \"continuousTimeMin\": 200\n            },\n            \"vars\": {\n              \"eventId\": \"catview\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":12,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThis is a more sophisticated view tracking. This sample fires an analytics request when a specific element becomes visible. The element is specified via `id` and must be an AMP element (amp-img, amp-iframe, amp-ad,...).\n\n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":13,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\nThis image will trigger an analytics request, if at least 20% of it are visible for 500ms with a minimum time of 200ms continuous visibility.\n\n","code":"<amp-img id=\"cat-image-id\"\n  src=\"/static/samples/img/cat-looking-up-300x200.jpg\"\n  width=\"300\"\n  height=\"200\"\n  attribution=\"visualhunt\"\n  alt=\"a cat\"\n  layout=\"responsive\"></amp-img>\n","preview":"  <amp-img id=\"cat-image-id\"\n    src=\"/static/samples/img/cat-looking-up-300x200.jpg\"\n    width=\"300\"\n    height=\"200\"\n    attribution=\"visualhunt\"\n    alt=\"a cat\"\n    layout=\"responsive\"></amp-img>\n","inBody":true,"id":14,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThis image will trigger an analytics request, if at least 20% of it are visible for 500ms with a minimum time of 200ms continuous visibility.\n\n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":15,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\nThis sample fires an analytics request when the image becomes visible as a result of an action.\n\n","code":"<button on=\"tap:an-image.toggleVisibility\">\n  Toggle image\n</button>\n<amp-img hidden\n  id=\"an-image\"\n  src=\"/static/samples/img/amp.jpg\"\n  width=\"1080\"\n  height=\"610\"\n  layout=\"responsive\"\n  alt=\"AMP\">\n</amp-img>","preview":"  <div>\n    <button on=\"tap:an-image.toggleVisibility\">\n      Toggle image\n    </button>\n    <amp-img hidden\n      id=\"an-image\"\n      src=\"/static/samples/img/amp.jpg\"\n      width=\"1080\"\n      height=\"610\"\n      layout=\"responsive\"\n      alt=\"AMP\">\n    </amp-img>\n  </div>\n","inBody":true,"id":16,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThis sample fires an analytics request when the image becomes visible as a result of an action.\n  \n"},{"doc_":"\nThe `elementShown` event is issued when the image becomes visible \n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"elementShown\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"defaultPageview\": {\n          \"on\": \"visible\",\n          \"request\": \"elementShown\",\n          \"selector\": \"#an-image\",\n          \"vars\": {\n            \"eventId\": \"imageShownAfterButtonClick\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"elementShown\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"defaultPageview\": {\n            \"on\": \"visible\",\n            \"request\": \"elementShown\",\n            \"selector\": \"#an-image\",\n            \"vars\": {\n              \"eventId\": \"imageShownAfterButtonClick\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":17,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nThe `elementShown` event is issued when the image becomes visible \n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":18,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Anchor click\n","code":"","preview":"","inBody":true,"id":19,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"anchor-click","name":"Anchor click"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Anchor click\n"},{"doc_":"\nUser interactions can be tracked as well. This configuration will track clicks on any anchor links in the page.\n\n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"trackAnchorClicks\": {\n          \"on\": \"click\",\n          \"selector\": \"a\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"clickOnAnyAnchor\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"trackAnchorClicks\": {\n            \"on\": \"click\",\n            \"selector\": \"a\",\n            \"request\": \"event\",\n            \"vars\": {\n              \"eventId\": \"clickOnAnyAnchor\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":20,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nUser interactions can be tracked as well. This configuration will track clicks on any anchor links in the page.\n\n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":21,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"Try it by clicking one of the links. \n","code":"<ul>\n  <li><a>a link</a></li>\n  <li><a>another link</a></li>\n</ul>\n","preview":"  <ul>\n    <li><a>a link</a></li>\n    <li><a>another link</a></li>\n  </ul>\n","inBody":true,"id":22,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Try it by clicking one of the links. \n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":23,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\nIt is also possible to fire click events only for specific links. Select specific elements to tracking by specifying a `selector` id. This sample only tracks clicks on anchors with the id `anchor-id`.\n\n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"trackAnchorClicks\": {\n          \"on\": \"click\",\n          \"selector\": \"#anchor-id\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"clickOnSpecialAnchor\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"trackAnchorClicks\": {\n            \"on\": \"click\",\n            \"selector\": \"#anchor-id\",\n            \"request\": \"event\",\n            \"vars\": {\n              \"eventId\": \"clickOnSpecialAnchor\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":24,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nIt is also possible to fire click events only for specific links. Select specific elements to tracking by specifying a `selector` id. This sample only tracks clicks on anchors with the id `anchor-id`.\n\n"},{"doc_":"Only one of these links will trigger the `clickOnSpecialAnchor` event. \n","code":"<ul>\n  <li><a id=\"anchor-id\">a special link</a>.</li>\n  <li><a id=\"another-anchor-id\">a not so special link</a>.</li>\n</ul>\n","preview":"  <ul>\n    <li><a id=\"anchor-id\">a special link</a>.</li>\n    <li><a id=\"another-anchor-id\">a not so special link</a>.</li>\n  </ul>\n","inBody":true,"id":25,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Only one of these links will trigger the `clickOnSpecialAnchor` event. \n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":26,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"## Scroll event\n","code":"","preview":"","inBody":true,"id":27,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"scroll-event","name":"Scroll event"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Scroll event\n"},{"doc_":"Use scroll events to fire a request under certain conditions when the page is scrolled. \n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"scrollPings\": {\n          \"on\": \"scroll\",\n          \"scrollSpec\": {\n            \"verticalBoundaries\": [10, 20, 30, 40, 50, 60, 70, 80, 90]\n          },\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"scroll\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"scrollPings\": {\n            \"on\": \"scroll\",\n            \"scrollSpec\": {\n              \"verticalBoundaries\": [10, 20, 30, 40, 50, 60, 70, 80, 90]\n            },\n            \"request\": \"event\",\n            \"vars\": {\n              \"eventId\": \"scroll\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":28,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"Use scroll events to fire a request under certain conditions when the page is scrolled. \n"},{"doc_":"## Timer\n","code":"","preview":"","inBody":true,"id":29,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"timer","name":"Timer"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Timer\n"},{"doc_":"\nTimer events fire in the specified interval.\n\n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"pageTimer\": {\n          \"on\": \"timer\",\n          \"timerSpec\": {\n            \"interval\": 10,\n            \"maxTimerLength\": 600\n          },\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"timer\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"pageTimer\": {\n            \"on\": \"timer\",\n            \"timerSpec\": {\n              \"interval\": 10,\n              \"maxTimerLength\": 600\n            },\n            \"request\": \"event\",\n            \"vars\": {\n              \"eventId\": \"timer\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":30,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"\nTimer events fire in the specified interval.\n\n"},{"doc_":"## AMP Carousel Tracking\n","code":"","preview":"","inBody":true,"id":31,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"amp-carousel-tracking","name":"AMP Carousel Tracking"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## AMP Carousel Tracking\n"},{"doc_":"\nIt is possible to track [amp-carousel](/content/amp-dev/documentation/components/reference/amp-carousel-v0.2.md) events with amp-analytics (this works only for  `type=\"slides\"`). Here is a sample carousel:\n\n","code":"<amp-carousel width=\"400\"\n  height=\"300\"\n  layout=\"responsive\"\n  type=\"slides\">\n  <div class=\"slide\"\n    data-slide-id=\"slide1\">Slide 1</div>\n  <div class=\"slide\"\n    data-slide-id=\"slide2\">Slide 2</div>\n  <div class=\"slide\">Slide 3</div>\n</amp-carousel>\n","preview":"  <amp-carousel width=\"400\"\n    height=\"300\"\n    layout=\"responsive\"\n    type=\"slides\">\n    <div class=\"slide\"\n      data-slide-id=\"slide1\">Slide 1</div>\n    <div class=\"slide\"\n      data-slide-id=\"slide2\">Slide 2</div>\n    <div class=\"slide\">Slide 3</div>\n  </amp-carousel>\n","inBody":true,"id":32,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":" \nIt is possible to track [amp-carousel](/content/amp-dev/documentation/components/reference/amp-carousel-v0.2.md) events with amp-analytics (this works only for  `type=\"slides\"`). Here is a sample carousel:\n \n"},{"doc_":"","code":"\n","preview":"\n","inBody":true,"id":33,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""},{"doc_":"\nYou can use the `fromSlide` and `toSlide` [variables](https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/analytics-vars.md) for tracking which slides are viewed. The value is either taken from the `data-slide-id` attribute of the slide when present, else it represents the index of the slide (starting from 0).\n\n","code":"","preview":"","inBody":true,"id":34,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"  \nYou can use the `fromSlide` and `toSlide` [variables](https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/analytics-vars.md) for tracking which slides are viewed. The value is either taken from the `data-slide-id` attribute of the slide when present, else it represents the index of the slide (starting from 0).\n  \n"},{"doc_":"\nThe `amp-carousel-change` event is issued when there is any change in the slide that is currently visible:\n\n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"ampCarouselChange\": {\n          \"on\": \"amp-carousel-change\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"carousel-change-${toSlide}\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"ampCarouselChange\": {\n            \"on\": \"amp-carousel-change\",\n            \"request\": \"event\",\n            \"vars\": {\n              \"eventId\": \"carousel-change-${toSlide}\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":35,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"  \nThe `amp-carousel-change` event is issued when there is any change in the slide that is currently visible:\n  \n"},{"doc_":"\nThe `amp-carousel-next` event is issued when there is a traversal to the next slide:\n\n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"ampCarouselNext\": {\n          \"on\": \"amp-carousel-next\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"carousel-next-${toSlide}\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"ampCarouselNext\": {\n            \"on\": \"amp-carousel-next\",\n            \"request\": \"event\",\n            \"vars\": {\n              \"eventId\": \"carousel-next-${toSlide}\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":36,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"  \nThe `amp-carousel-next` event is issued when there is a traversal to the next slide:\n  \n"},{"doc_":"\nThe `amp-carousel-prev` event is issued when there is a traversal to the previous slide: \n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"ampCarouselPrev\": {\n          \"on\": \"amp-carousel-prev\",\n          \"request\": \"event\",\n          \"vars\": {\n            \"eventId\": \"carousel-prev-${fromSlide}\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n","preview":"  <amp-analytics>\n    <script type=\"application/json\">\n      {\n        \"requests\": {\n          \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n        },\n        \"triggers\": {\n          \"ampCarouselPrev\": {\n            \"on\": \"amp-carousel-prev\",\n            \"request\": \"event\",\n            \"vars\": {\n              \"eventId\": \"carousel-prev-${fromSlide}\"\n            }\n          }\n        }\n      }\n    </script>\n  </amp-analytics>\n","inBody":true,"id":37,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"  \nThe `amp-carousel-prev` event is issued when there is a traversal to the previous slide: \n"},{"doc_":"## Form\n","code":"","preview":"","inBody":true,"id":38,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[{"id":"form","name":"Form"}],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"## Form\n"},{"doc_":"You can track events triggered by `amp-form`. Find a list of supported event [here](/content/amp-dev/documentation/components/reference/amp-form.md#analytics-triggers). \n","code":"<amp-analytics>\n  <script type=\"application/json\">\n    {\n      \"requests\": {\n        \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n      },\n      \"triggers\": {\n        \"formSubmit\": {\n          \"on\": \"amp-form-submit\",\n          \"request\": \"event\",\n          \"selector\": \"#testForm\",\n          \"vars\": {\n            \"eventId\": \"form-submit\"\n          }\n        },\n        \"formSubmitSuccess\": {\n          \"on\": \"amp-form-submit-success\",\n          \"request\": \"event\",\n          \"selector\": \"#testForm\",\n          \"vars\": {\n            \"eventId\": \"form-submit-success\"\n          }\n        },\n        \"formSubmitError\": {\n          \"on\": \"amp-form-submit-error\",\n          \"request\": \"event\",\n          \"selector\": \"#testForm\",\n          \"vars\": {\n            \"eventId\": \"form-submit-error\"\n          }\n        }\n      }\n    }\n  </script>\n</amp-analytics>\n<p>Try to insert any name as a name input in the form to see the <code>amp-form-submit-success</code> event.</p>\n<p>Try to insert the word \"error\" as a name input in the form to see the <code>amp-form-submit-error</code> event.</p>\n<form id=\"testForm\"\n  method=\"post\"\n  action-xhr=\"/documentation/examples/api/submit-form-input-text-xhr\"\n  target=\"_top\">\n  <input type=\"text\"\n    name=\"name\"\n    placeholder=\"Name...\"\n    required>\n  <input type=\"submit\"\n    value=\"Subscribe\">\n</form>","preview":"  <div>\n    <amp-analytics>\n      <script type=\"application/json\">\n        {\n          \"requests\": {\n            \"event\": \"http://localhost:8080/documentation/examples/components/amp-analytics/ping?user=[= user =]&account=ampdev&event=${eventId}\"\n          },\n          \"triggers\": {\n            \"formSubmit\": {\n              \"on\": \"amp-form-submit\",\n              \"request\": \"event\",\n              \"selector\": \"#testForm\",\n              \"vars\": {\n                \"eventId\": \"form-submit\"\n              }\n            },\n            \"formSubmitSuccess\": {\n              \"on\": \"amp-form-submit-success\",\n              \"request\": \"event\",\n              \"selector\": \"#testForm\",\n              \"vars\": {\n                \"eventId\": \"form-submit-success\"\n              }\n            },\n            \"formSubmitError\": {\n              \"on\": \"amp-form-submit-error\",\n              \"request\": \"event\",\n              \"selector\": \"#testForm\",\n              \"vars\": {\n                \"eventId\": \"form-submit-error\"\n              }\n            }\n          }\n        }\n      </script>\n    </amp-analytics>\n    <p>Try to insert any name as a name input in the form to see the <code>amp-form-submit-success</code> event.</p>\n    <p>Try to insert the word \"error\" as a name input in the form to see the <code>amp-form-submit-error</code> event.</p>\n    <form id=\"testForm\"\n      method=\"post\"\n      action-xhr=\"/documentation/examples/api/submit-form-input-text-xhr\"\n      target=\"_top\">\n      <input type=\"text\"\n        name=\"name\"\n        placeholder=\"Name...\"\n        required>\n      <input type=\"submit\"\n        value=\"Subscribe\">\n    </form>\n  </div>\n","inBody":true,"id":39,"cachedMarkedDoc":false,"isLastSection":false,"isFirstSection":false,"commentOffset":0,"codeOffset":2,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":"You can track events triggered by `amp-form`. Find a list of supported event [here](/content/amp-dev/documentation/components/reference/amp-form.md#analytics-triggers). \n"},{"doc_":"","code":"</body>\n</html>\n","preview":"","inBody":false,"id":40,"cachedMarkedDoc":false,"isLastSection":true,"isFirstSection":false,"commentOffset":0,"codeOffset":0,"headings":[],"storyPageId":"","currentHint":"","hints":[],"filters":null,"normalizedDoc_":""}],"head":"<meta charset=\"utf-8\">\n  <title>amp-analytics</title>\n  <script async src=\"https://cdn.ampproject.org/v0.js\"></script>\n  <script async custom-element=\"amp-analytics\" src=\"https://cdn.ampproject.org/v0/amp-analytics-0.1.js\"></script>\n  <script async custom-element=\"amp-carousel\" src=\"https://cdn.ampproject.org/v0/amp-carousel-0.1.js\"></script>\n  <script async custom-element=\"amp-bind\" src=\"https://cdn.ampproject.org/v0/amp-bind-0.1.js\"></script>\n  <script async custom-element=\"amp-form\" src=\"https://cdn.ampproject.org/v0/amp-form-0.1.js\"></script>\n  <script async custom-element=\"amp-iframe\" src=\"https://cdn.ampproject.org/v0/amp-iframe-0.1.js\"></script>\n  <link rel=\"canonical\" href=\"http://localhost:8080/documentation/examples/components/amp-analytics/index.html\">\n  <meta name=\"viewport\" content=\"width=device-width,minimum-scale=1,initial-scale=1\">\n  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n","styles":"    :root {\n      --color-text-light: #fff;\n      --space-2: 1rem;  /* 16px */\n    }\n    .fixed-dashboard {\n        background-color: #e0e0e0;\n        position: fixed;\n        bottom: 0;\n        right: 0;\n        width: 100%;\n        z-index: 100;\n        margin: var(--space-2);\n        box-shadow:0 1px 1px 0 rgba(0,0,0,.14),0 1px 1px -1px rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);\n    }\n    amp-carousel .slide {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 20px;\n      background: green;\n      color: var(--color-text-light);\n    }\n","title":"amp-analytics","metadata":{"author":"sebastianbenz"},"body":"<body>","elementsAfterBody":"","isAmpStory":false,"isAmpWeb":true,"isAmpAds":false,"isAmpEmail":false,"firstImage":"/favicons/android-chrome-256x256.png","lang":"en","_description":"The amp-analytics element can be used to measure activity on an AMP document."},"route":"/documentation/examples/components/amp-analytics/index.html"}